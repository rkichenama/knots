(()=>{"use strict";var t,e={643:(t,e,s)=>{var n=s(294),i=s(745);class r{constructor(t=1,e=1){this.runs=[],this.fromPin=0,this.toPin=0,this.runs=[],this.fromPin=t,this.toPin=e}append(t){this.runs.push(t)}steps(){let t=[];for(let e=0;e<this.runs.length;e++)0===t.length||t[t.length-1].codingPattern!=this.runs[e]?t.push({codingPattern:this.runs[e],count:1}):t[t.length-1].count++;let e=[];for(let s=0;s<t.length;s++)e.push(`${t[s].codingPattern}${t[s].count>1?t[s].count:""}`);return t.length?e.join(" "):void 0}}function l(t,e){return 0===e?t:l(e,t%e)}const o={"\\":"/","/":"\\"};class a{constructor({parts:t=5,bights:e=6,sobre:s=!1,pattern:n="\\/"}){this.parts=t,this.bights=e,this.pattern=n||"\\/",this.sobre=!!s,this.solve()}checkConditions(){if(!this.parts||!this.bights)throw"the parts and bights both must be greater than 0";if(1!=l(this.parts,this.bights))throw"the parts and bights must have a greatest common divisor of 1"}fillCoding(){this.coding="";for(let t=0;t<this.parts-1;t++)this.coding+=this.sobre?o[this.pattern[t%this.pattern.length]]:this.pattern[t%this.pattern.length]}initVars(){this.wholeNumber=Math.floor(this.parts/this.bights),this.remainder=this.parts%this.bights,this.countValue=this.bights-this.remainder,this.cyclicBightNumber=[],this.topCyclicBightNumber=[],this.botCyclicBightNumber=[],this.topCodingPattern=[],this.botCodingPattern=[],this.halfCycles=[],this.pins=[]}fillCbn(){for(let t=0;t<this.bights;t++)this.cyclicBightNumber[t*this.countValue%this.bights]=t;for(let t=0;t<this.parts-1;t++)this.topCyclicBightNumber[t]=this.cyclicBightNumber[(t+1)%this.bights],this.botCyclicBightNumber[this.parts-1-t-1]=this.cyclicBightNumber[(t+1)%this.bights]}getPartFromType(t){return t?"O":"U"}fillUo(){for(let t=0;t<this.parts-1;t++){const e="\\"===this.coding[t];this.topCodingPattern.push(this.getPartFromType(!e)),this.botCodingPattern.push(this.getPartFromType(e))}}fillPins(){this.pins.push(1);let t=2*this.bights;if(this.parts%2)for(let e=1;e<t;e++){const s=e*this.parts%t;this.pins.push(Math.floor(s/2)+1)}else for(let e=1;e<t;e++){const s=e*this.parts%t;this.pins.push(Math.floor(0===s?(e*this.parts+1)%t/2:e%2?s/2:(s+1)/2)+1)}this.pins.push(1)}fillHalfCycles(){let t=new r(this.pins[0],this.pins[1]);this.halfCycles.push(t);for(let e=2;e<=2*this.bights;e++){t=new r(this.pins[e-1],this.pins[e]);const s=(e-2-e%2)/2,[n,i]=e%2?[this.topCodingPattern,this.topCyclicBightNumber]:[this.botCodingPattern,this.botCyclicBightNumber];for(let e=0;e<n.length;e++)i[e]<=s&&t.append(n[e]);this.halfCycles.push(t)}}solve(){this.checkConditions(),this.fillCoding(),this.initVars(),this.fillCbn(),this.fillUo(),this.fillPins(),this.fillHalfCycles()}steps(){let t=[],e=!1;for(const s of this.halfCycles)t.push(`${e?"top":"bot"} pin ${s.fromPin} to ${e?"bot":"top"} pin ${s.toPin}: ${s.steps()??"free run"}`),e=!e;return t}}var h=s(726);const c=window.knot=(0,h.td)(new a({bights:6,parts:5})),p=(0,h.td)("");let u={bights:6,parts:5,sobre:!1,pattern:"\\/"};(()=>{const t=new URLSearchParams(window.location.hash.slice(1)),e=Object.fromEntries(t.entries());for(const t in u)e[t]&&(u[t]=/(bights|parts)/.test(t)?Number(e[t]):/sobre/.test(t)?"true"===e[t]:e[t])})();const g=()=>{const[{bights:t,parts:e,sobre:s,pattern:i},r]=n.useState(u),l=n.useCallback(((t,e)=>{const s=/pattern/.test(t)?e.target.value:/sobre/.test(t)?e.target.checked:e.target.valueAsNumber;r((e=>({...e,[t]:s})))}),[r]);return n.useEffect((()=>{try{p.value="",c.value=new a({bights:t,parts:e,sobre:s,pattern:i});const n=new URLSearchParams;n.set("bights",String(t)),n.set("parts",String(e)),n.set("sobre",String(s)),n.set("pattern",i),location.hash=n.toString()}catch(t){p.value=t.toString()}}),[t,e,s,i]),n.createElement("div",null,n.createElement("label",null,"Bights",n.createElement("input",{type:"number",value:t,min:2,onChange:t=>l("bights",t)})),n.createElement("label",null,"Parts",n.createElement("input",{type:"number",value:e,min:2,onChange:t=>l("parts",t)})),n.createElement("label",null,"Sobre",n.createElement("input",{type:"checkbox",checked:s,onChange:t=>l("sobre",t)})),n.createElement("label",null,"Pattern",n.createElement("input",{type:"text",value:i,onChange:t=>l("pattern",t)})))};var m=s(394);const b=({knot:{topCyclicBightNumber:t,botCyclicBightNumber:e,topCodingPattern:s,botCodingPattern:i,coding:r}})=>n.createElement("div",null,n.createElement("h3",null,"Algorithm Diagram"),n.createElement("table",null,n.createElement("tbody",null,n.createElement(d,{items:s}),n.createElement(d,{items:t}),n.createElement(d,{items:r.split("")}),n.createElement(d,{items:e}),n.createElement(d,{items:i})))),f=m.ZP.td.withConfig({displayName:"Cell",componentId:"sc-1bmbf8h"})`
  text-align: center;
`,d=({items:t})=>n.createElement("tr",null,t.map(((t,e)=>n.createElement(f,{key:`${e}-${t}`},t)))),v=({knot:t})=>n.createElement("div",null,n.createElement("h3",null,"Half Cycles"),n.createElement(C,null,t.steps().map((t=>n.createElement(y,{key:t},t))))),C=m.ZP.ol.withConfig({displayName:"HalfCycleList",componentId:"sc-1cfnhfe"})``,y=m.ZP.li.withConfig({displayName:"HalfCycleRow",componentId:"sc-1awb9co"})``,E=Math.PI/6,P=Math.tan(E),w=()=>{const t=n.useRef(null),e=c.value;return n.useEffect((()=>{t.current&&e&&(x(t.current,e),T(t.current,e),B(t.current,e))}),[e]),n.createElement("div",null,n.createElement("h3",null,"Knot Diagram"),n.createElement(k,null,n.createElement(N,{ref:t})))},k=m.ZP.div.withConfig({displayName:"ResizeContainer",componentId:"sc-jeawg"})`
  overflow: hidden;
  resize: auto;
`,N=m.ZP.canvas.withConfig({displayName:"Canvas",componentId:"sc-1yb1ogh"})`
  position: relative;
  height: 100%;
  width: 100%;
`,x=(t,e)=>{t.height=32*(e.bights-.5),t.parentElement.style.height=`${t.height}px`,t.width=16/P*2*(e.parts/2),t.parentElement.style.width=`${t.width}px`;const s=t.width,n=t.height;t.getContext("2d").clearRect(0,0,s,n)},T=(t,e)=>{const s=t.getContext("2d"),n=t.width,i=t.height,r=i/(e.bights-.5),l=r/2/P*2;s.fillStyle="#573c66",s.strokeStyle="black",s.textAlign="center",s.font="10px sans-serif";const o=e.parts/2,a=e.parts%2;for(let t=0;t<=e.bights;t++){s.lineWidth=1;for(let n=0;n<Math.ceil(o);n++)0===n&&(s.fillText(`${t+1}`,n+15,i-(t*r-3)),s.fillText(`${t+1}`,o*l-15,i-((t+.5*a)*r-3))),s.beginPath(),s.moveTo(n*l+e.parts/2*l,i-(t-o)*r),s.lineTo(n*l,i-t*r),s.lineTo(n*l+e.parts/2*l,i-(t+o)*r),s.stroke(),s.closePath(),s.beginPath(),s.moveTo(n*l-e.parts/2*l,i-(t-o)*r),s.lineTo(n*l,i-t*r),s.lineTo(n*l-e.parts/2*l,i-(t+o)*r),s.stroke(),s.closePath()}s.clearRect(o*l,0,n-o*l,i)},B=(t,e)=>{const s=t.getContext("2d"),n=t.height,i=n/(e.bights-.5),r=i/2/P*2;s.strokeStyle="black";const l=e.parts/2,o=e.parts%2,a=.2*r,h=.2*i,c=(t,e)=>[(t+.4)*r,n-(e+.6)*i],p=(t,e)=>[(t+.9)*r,n-e*i-3],u=([t,e])=>{s.clearRect(t,e,a,h),s.beginPath(),s.moveTo(t,e),s.lineTo(t+a,e+h),s.stroke(),s.closePath()},g=([t,e])=>{s.clearRect(t,e,a,h),s.beginPath(),s.moveTo(t+a,e),s.lineTo(t,e+h),s.stroke(),s.closePath()};for(let t=0;t<e.bights;t++){s.lineWidth=5;const n=e.coding.split("");for(let e=0;e<Math.floor(l);e++)("\\"===n.shift()?u:g)(c(e,t)),(o||e+1<l)&&("\\"===n.shift()?u:g)(p(e,t))}},O=()=>{const t=c.value;return n.createElement(n.Fragment,null,p.value&&n.createElement("h4",null,p.value),n.createElement("h2",null,t.bights,"B x ",t.parts,"P ",t.sobre?"sobre":"casa"," knot"),n.createElement(b,{knot:t}),n.createElement(w,null),n.createElement(v,{knot:t}))},S=document.createElement("section"),$=(0,i.s)(S),M=n.createElement(n.StrictMode,null,n.createElement((()=>n.createElement("div",null,n.createElement(g,null),n.createElement("hr",null),n.createElement(O,null))),null));document.body.appendChild(S),$.render(M)}},s={};function n(t){var i=s[t];if(void 0!==i)return i.exports;var r=s[t]={exports:{}};return e[t](r,r.exports,n),r.exports}n.m=e,t=[],n.O=(e,s,i,r)=>{if(!s){var l=1/0;for(c=0;c<t.length;c++){for(var[s,i,r]=t[c],o=!0,a=0;a<s.length;a++)(!1&r||l>=r)&&Object.keys(n.O).every((t=>n.O[t](s[a])))?s.splice(a--,1):(o=!1,r<l&&(l=r));if(o){t.splice(c--,1);var h=i();void 0!==h&&(e=h)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[s,i,r]},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={483:0};n.O.j=e=>0===t[e];var e=(e,s)=>{var i,r,[l,o,a]=s,h=0;if(l.some((e=>0!==t[e]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(a)var c=a(n)}for(e&&e(s);h<l.length;h++)r=l[h],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(c)},s=self.webpackChunkknots=self.webpackChunkknots||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})(),n.nc=void 0;var i=n.O(void 0,[216],(()=>n(643)));i=n.O(i)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUlnSyxFQUFTL0osT0FBUUQsSUFDekIwTCxFQUFVMUIsRUFBU2hLLEdBQ2hCd0osRUFBb0J3QixFQUFFUyxFQUFpQkMsSUFBWUQsRUFBZ0JDLElBQ3JFRCxFQUFnQkMsR0FBUyxLQUUxQkQsRUFBZ0JDLEdBQVcsRUFFNUIsT0FBT2xDLEVBQW9CTSxFQUFFQyxFQUFPLEVBR2pDbUMsRUFBcUJDLEtBQXdCLGtCQUFJQSxLQUF3QixtQkFBSyxHQUNsRkQsRUFBbUJFLFFBQVFULEVBQXFCVSxLQUFLLEtBQU0sSUFDM0RILEVBQW1Cck0sS0FBTzhMLEVBQXFCVSxLQUFLLEtBQU1ILEVBQW1Cck0sS0FBS3dNLEtBQUtILEcsS0NoRHZGMUMsRUFBb0I4QyxRQUFLaE0sRUNHekIsSUFBSWlNLEVBQXNCL0MsRUFBb0JNLE9BQUV4SixFQUFXLENBQUMsTUFBTSxJQUFPa0osRUFBb0IsT0FDN0YrQyxFQUFzQi9DLEVBQW9CTSxFQUFFeUMsRSIsInNvdXJjZXMiOlsid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovLy8uL3NyYy9saWIvaGFsZmN5Y2xlLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvZ2NkLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIva25vdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0YS9DdXJyZW50S25vdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Lbm90Q29udHJvbHMudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0FsZ29yaXRobURpYWdyYW0udHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1J1bkxpc3QudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0tub3RHcmlkLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Lbm90RGlzcGxheS50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvQXBwLnRzeCIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvbm9uY2UiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZGVmZXJyZWQgPSBbXTtcbl9fd2VicGFja19yZXF1aXJlX18uTyA9IChyZXN1bHQsIGNodW5rSWRzLCBmbiwgcHJpb3JpdHkpID0+IHtcblx0aWYoY2h1bmtJZHMpIHtcblx0XHRwcmlvcml0eSA9IHByaW9yaXR5IHx8IDA7XG5cdFx0Zm9yKHZhciBpID0gZGVmZXJyZWQubGVuZ3RoOyBpID4gMCAmJiBkZWZlcnJlZFtpIC0gMV1bMl0gPiBwcmlvcml0eTsgaS0tKSBkZWZlcnJlZFtpXSA9IGRlZmVycmVkW2kgLSAxXTtcblx0XHRkZWZlcnJlZFtpXSA9IFtjaHVua0lkcywgZm4sIHByaW9yaXR5XTtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyIG5vdEZ1bGZpbGxlZCA9IEluZmluaXR5O1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGRlZmVycmVkLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIFtjaHVua0lkcywgZm4sIHByaW9yaXR5XSA9IGRlZmVycmVkW2ldO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2h1bmtJZHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdGlmICgocHJpb3JpdHkgJiAxID09PSAwIHx8IG5vdEZ1bGZpbGxlZCA+PSBwcmlvcml0eSkgJiYgT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5PKS5ldmVyeSgoa2V5KSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXy5PW2tleV0oY2h1bmtJZHNbal0pKSkpIHtcblx0XHRcdFx0Y2h1bmtJZHMuc3BsaWNlKGotLSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYocHJpb3JpdHkgPCBub3RGdWxmaWxsZWQpIG5vdEZ1bGZpbGxlZCA9IHByaW9yaXR5O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkLnNwbGljZShpLS0sIDEpXG5cdFx0XHR2YXIgciA9IGZuKCk7XG5cdFx0XHRpZiAociAhPT0gdW5kZWZpbmVkKSByZXN1bHQgPSByO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCJleHBvcnQgY2xhc3MgSGFsZkN5Y2xlIHtcbiAgICBjb25zdHJ1Y3Rvcihmcm9tUGluID0gMSwgdG9QaW4gPSAxKSB7XG4gICAgICAgIHRoaXMucnVucyA9IFtdO1xuICAgICAgICB0aGlzLmZyb21QaW4gPSAwO1xuICAgICAgICB0aGlzLnRvUGluID0gMDtcbiAgICAgICAgdGhpcy5ydW5zID0gW107XG4gICAgICAgIHRoaXMuZnJvbVBpbiA9IGZyb21QaW47XG4gICAgICAgIHRoaXMudG9QaW4gPSB0b1BpbjtcbiAgICB9XG4gICAgYXBwZW5kKHN0ZXApIHsgdGhpcy5ydW5zLnB1c2goc3RlcCk7IH1cbiAgICBzdGVwcygpIHtcbiAgICAgICAgbGV0IGxpc3QgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJ1bnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCB8fCBsaXN0W2xpc3QubGVuZ3RoIC0gMV0uY29kaW5nUGF0dGVybiAhPSB0aGlzLnJ1bnNbaV0pIHtcbiAgICAgICAgICAgICAgICBsaXN0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBjb2RpbmdQYXR0ZXJuOiB0aGlzLnJ1bnNbaV0sXG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiAxLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGlzdFtsaXN0Lmxlbmd0aCAtIDFdLmNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0cnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzdHJzLnB1c2goYCR7bGlzdFtpXS5jb2RpbmdQYXR0ZXJufSR7bGlzdFtpXS5jb3VudCA+IDEgPyBsaXN0W2ldLmNvdW50IDogJyd9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3QubGVuZ3RoID8gc3Rycy5qb2luKCcgJykgOiB1bmRlZmluZWQ7XG4gICAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2NkKHgsIHkpIHtcbiAgICBpZiAoeSA9PT0gMClcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgcmV0dXJuIGdjZCh5LCB4ICUgeSk7XG59XG4iLCJpbXBvcnQgeyBIYWxmQ3ljbGUgfSBmcm9tICcuL2hhbGZjeWNsZSc7XG5pbXBvcnQgZ2NkIGZyb20gJy4vZ2NkJztcbmNvbnN0IEludmVydFBhdHRlcm4gPSB7XG4gICAgJ1xcXFwnOiAnLycsXG4gICAgJy8nOiAnXFxcXCcsXG59O1xuZXhwb3J0IGNsYXNzIEtub3Qge1xuICAgIGNvbnN0cnVjdG9yKHsgcGFydHMgPSA1LCBiaWdodHMgPSA2LCBzb2JyZSA9IGZhbHNlLCBwYXR0ZXJuID0gJ1xcXFwvJyB9KSB7XG4gICAgICAgIHRoaXMucGFydHMgPSBwYXJ0cztcbiAgICAgICAgdGhpcy5iaWdodHMgPSBiaWdodHM7XG4gICAgICAgIHRoaXMucGF0dGVybiA9IHBhdHRlcm4gfHwgJ1xcXFwvJztcbiAgICAgICAgdGhpcy5zb2JyZSA9ICEhc29icmU7XG4gICAgICAgIHRoaXMuc29sdmUoKTtcbiAgICB9XG4gICAgY2hlY2tDb25kaXRpb25zKCkge1xuICAgICAgICBpZiAoIXRoaXMucGFydHMgfHwgIXRoaXMuYmlnaHRzKSB7XG4gICAgICAgICAgICB0aHJvdyBcInRoZSBwYXJ0cyBhbmQgYmlnaHRzIGJvdGggbXVzdCBiZSBncmVhdGVyIHRoYW4gMFwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnY2QodGhpcy5wYXJ0cywgdGhpcy5iaWdodHMpICE9IDEpIHtcbiAgICAgICAgICAgIHRocm93IFwidGhlIHBhcnRzIGFuZCBiaWdodHMgbXVzdCBoYXZlIGEgZ3JlYXRlc3QgY29tbW9uIGRpdmlzb3Igb2YgMVwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZpbGxDb2RpbmcoKSB7XG4gICAgICAgIHRoaXMuY29kaW5nID0gJyc7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYXJ0cyAtIDE7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5jb2RpbmcgKz0gdGhpcy5zb2JyZVxuICAgICAgICAgICAgICAgID8gSW52ZXJ0UGF0dGVyblt0aGlzLnBhdHRlcm5baSAlIHRoaXMucGF0dGVybi5sZW5ndGhdXVxuICAgICAgICAgICAgICAgIDogdGhpcy5wYXR0ZXJuW2kgJSB0aGlzLnBhdHRlcm4ubGVuZ3RoXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbml0VmFycygpIHtcbiAgICAgICAgdGhpcy53aG9sZU51bWJlciA9IE1hdGguZmxvb3IodGhpcy5wYXJ0cyAvIHRoaXMuYmlnaHRzKTtcbiAgICAgICAgdGhpcy5yZW1haW5kZXIgPSB0aGlzLnBhcnRzICUgdGhpcy5iaWdodHM7XG4gICAgICAgIHRoaXMuY291bnRWYWx1ZSA9IHRoaXMuYmlnaHRzIC0gdGhpcy5yZW1haW5kZXI7XG4gICAgICAgIHRoaXMuY3ljbGljQmlnaHROdW1iZXIgPSBbXTtcbiAgICAgICAgdGhpcy50b3BDeWNsaWNCaWdodE51bWJlciA9IFtdO1xuICAgICAgICB0aGlzLmJvdEN5Y2xpY0JpZ2h0TnVtYmVyID0gW107XG4gICAgICAgIHRoaXMudG9wQ29kaW5nUGF0dGVybiA9IFtdO1xuICAgICAgICB0aGlzLmJvdENvZGluZ1BhdHRlcm4gPSBbXTtcbiAgICAgICAgdGhpcy5oYWxmQ3ljbGVzID0gW107XG4gICAgICAgIHRoaXMucGlucyA9IFtdO1xuICAgIH1cbiAgICBmaWxsQ2JuKCkge1xuICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IHRoaXMuYmlnaHRzOyBjKyspIHtcbiAgICAgICAgICAgIHRoaXMuY3ljbGljQmlnaHROdW1iZXJbKGMgKiB0aGlzLmNvdW50VmFsdWUpICUgdGhpcy5iaWdodHNdID0gYztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IHRoaXMucGFydHMgLSAxOyBjKyspIHtcbiAgICAgICAgICAgIHRoaXMudG9wQ3ljbGljQmlnaHROdW1iZXJbY10gPSB0aGlzLmN5Y2xpY0JpZ2h0TnVtYmVyWyhjICsgMSkgJSB0aGlzLmJpZ2h0c107XG4gICAgICAgICAgICB0aGlzLmJvdEN5Y2xpY0JpZ2h0TnVtYmVyW3RoaXMucGFydHMgLSAxIC0gYyAtIDFdID0gdGhpcy5jeWNsaWNCaWdodE51bWJlclsoYyArIDEpICUgdGhpcy5iaWdodHNdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFBhcnRGcm9tVHlwZShpc092ZXIpIHtcbiAgICAgICAgcmV0dXJuIGlzT3ZlciA/ICdPJyA6ICdVJztcbiAgICB9XG4gICAgZmlsbFVvKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGFydHMgLSAxOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGlzT3ZlciA9ICh0aGlzLmNvZGluZ1tpXSA9PT0gJ1xcXFwnKTtcbiAgICAgICAgICAgIHRoaXMudG9wQ29kaW5nUGF0dGVybi5wdXNoKHRoaXMuZ2V0UGFydEZyb21UeXBlKCFpc092ZXIpKTtcbiAgICAgICAgICAgIHRoaXMuYm90Q29kaW5nUGF0dGVybi5wdXNoKHRoaXMuZ2V0UGFydEZyb21UeXBlKGlzT3ZlcikpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZpbGxQaW5zKCkge1xuICAgICAgICB0aGlzLnBpbnMucHVzaCgxKTtcbiAgICAgICAgbGV0IG0gPSAyICogdGhpcy5iaWdodHM7XG4gICAgICAgIGlmICh0aGlzLnBhcnRzICUgMikge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBtOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gKGkgKiB0aGlzLnBhcnRzKSAlIG07XG4gICAgICAgICAgICAgICAgdGhpcy5waW5zLnB1c2goTWF0aC5mbG9vcihyIC8gMikgKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IChpICogdGhpcy5wYXJ0cykgJSBtO1xuICAgICAgICAgICAgICAgIHRoaXMucGlucy5wdXNoKE1hdGguZmxvb3IociA9PT0gMFxuICAgICAgICAgICAgICAgICAgICA/ICgoaSAqIHRoaXMucGFydHMgKyAxKSAlIG0pIC8gMlxuICAgICAgICAgICAgICAgICAgICA6IGkgJSAyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHIgLyAyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IChyICsgMSkgLyAyKSArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucGlucy5wdXNoKDEpO1xuICAgIH1cbiAgICA7XG4gICAgZmlsbEhhbGZDeWNsZXMoKSB7XG4gICAgICAgIGxldCBoYyA9IG5ldyBIYWxmQ3ljbGUodGhpcy5waW5zWzBdLCB0aGlzLnBpbnNbMV0pO1xuICAgICAgICB0aGlzLmhhbGZDeWNsZXMucHVzaChoYyk7XG4gICAgICAgIGZvciAobGV0IG51bSA9IDI7IG51bSA8PSAyICogdGhpcy5iaWdodHM7IG51bSsrKSB7XG4gICAgICAgICAgICBoYyA9IG5ldyBIYWxmQ3ljbGUodGhpcy5waW5zW251bSAtIDFdLCB0aGlzLnBpbnNbbnVtXSk7XG4gICAgICAgICAgICBjb25zdCBjeWNsaWNCaWdodE51bWJlciA9IChudW0gLSAyIC0gKG51bSAlIDIpKSAvIDI7XG4gICAgICAgICAgICBjb25zdCBbY29kaW5nUGF0dGVybiwgc2lkZV0gPSBudW0gJSAyXG4gICAgICAgICAgICAgICAgPyBbdGhpcy50b3BDb2RpbmdQYXR0ZXJuLCB0aGlzLnRvcEN5Y2xpY0JpZ2h0TnVtYmVyXVxuICAgICAgICAgICAgICAgIDogW3RoaXMuYm90Q29kaW5nUGF0dGVybiwgdGhpcy5ib3RDeWNsaWNCaWdodE51bWJlcl07XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvZGluZ1BhdHRlcm4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoc2lkZVtpXSA8PSBjeWNsaWNCaWdodE51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICBoYy5hcHBlbmQoY29kaW5nUGF0dGVybltpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5oYWxmQ3ljbGVzLnB1c2goaGMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNvbHZlKCkge1xuICAgICAgICB0aGlzLmNoZWNrQ29uZGl0aW9ucygpO1xuICAgICAgICB0aGlzLmZpbGxDb2RpbmcoKTtcbiAgICAgICAgdGhpcy5pbml0VmFycygpO1xuICAgICAgICB0aGlzLmZpbGxDYm4oKTtcbiAgICAgICAgdGhpcy5maWxsVW8oKTtcbiAgICAgICAgdGhpcy5maWxsUGlucygpO1xuICAgICAgICB0aGlzLmZpbGxIYWxmQ3ljbGVzKCk7XG4gICAgfVxuICAgIHN0ZXBzKCkge1xuICAgICAgICBsZXQgbGlzdCA9IFtdO1xuICAgICAgICBsZXQgYXRUb3AgPSBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCBoYWxmQ3ljbGUgb2YgdGhpcy5oYWxmQ3ljbGVzKSB7XG4gICAgICAgICAgICBsaXN0LnB1c2goYCR7YXRUb3AgPyAndG9wJyA6ICdib3QnfSBwaW4gJHtoYWxmQ3ljbGUuZnJvbVBpbn0gdG8gJHthdFRvcCA/ICdib3QnIDogJ3RvcCd9IHBpbiAke2hhbGZDeWNsZS50b1Bpbn06ICR7aGFsZkN5Y2xlLnN0ZXBzKCkgPz8gJ2ZyZWUgcnVuJ31gKTtcbiAgICAgICAgICAgIGF0VG9wID0gIWF0VG9wO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IHNpZ25hbCB9IGZyb20gJ0BwcmVhY3Qvc2lnbmFscy1yZWFjdCc7XG5pbXBvcnQgeyBLbm90IH0gZnJvbSAnLi4vbGliJztcbmV4cG9ydCBjb25zdCBDdXJyZW50S25vdCA9ICh3aW5kb3dbJ2tub3QnXSA9IHNpZ25hbChuZXcgS25vdCh7XG4gICAgYmlnaHRzOiA2LCBwYXJ0czogNVxufSkpKTtcbmV4cG9ydCBjb25zdCBLbm90RXJyb3IgPSBzaWduYWwoJycpO1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgS25vdCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBDdXJyZW50S25vdCwgS25vdEVycm9yIH0gZnJvbSAnLi4vZGF0YS9DdXJyZW50S25vdCc7XG5sZXQgZGVmYXVsdEtub3QgPSB7XG4gICAgYmlnaHRzOiA2LFxuICAgIHBhcnRzOiA1LFxuICAgIHNvYnJlOiBmYWxzZSxcbiAgICBwYXR0ZXJuOiAnXFxcXC8nLFxufTtcbigoKSA9PiB7XG4gICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKSk7XG4gICAgY29uc3QgY2FuZGlkYXRlcyA9IE9iamVjdC5mcm9tRW50cmllcyhwYXJhbXMuZW50cmllcygpKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBkZWZhdWx0S25vdCkge1xuICAgICAgICBpZiAoY2FuZGlkYXRlc1trZXldKSB7XG4gICAgICAgICAgICBkZWZhdWx0S25vdFtrZXldID0gLyhiaWdodHN8cGFydHMpLy50ZXN0KGtleSlcbiAgICAgICAgICAgICAgICA/IE51bWJlcihjYW5kaWRhdGVzW2tleV0pXG4gICAgICAgICAgICAgICAgOiAvc29icmUvLnRlc3Qoa2V5KVxuICAgICAgICAgICAgICAgICAgICA/IGNhbmRpZGF0ZXNba2V5XSA9PT0gJ3RydWUnXG4gICAgICAgICAgICAgICAgICAgIDogY2FuZGlkYXRlc1trZXldO1xuICAgICAgICB9XG4gICAgfVxufSkoKTtcbmV4cG9ydCBjb25zdCBLbm90Q29udHJvbHMgPSAoKSA9PiB7XG4gICAgY29uc3QgW3sgYmlnaHRzLCBwYXJ0cywgc29icmUsIHBhdHRlcm4sIH0sIHNldFByb3BzXSA9IFJlYWN0LnVzZVN0YXRlKGRlZmF1bHRLbm90KTtcbiAgICBjb25zdCBjaGFuZ2UgPSBSZWFjdC51c2VDYWxsYmFjaygoa2V5LCBlKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gL3BhdHRlcm4vLnRlc3Qoa2V5KVxuICAgICAgICAgICAgPyBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgOiAvc29icmUvLnRlc3Qoa2V5KVxuICAgICAgICAgICAgICAgID8gZS50YXJnZXQuY2hlY2tlZFxuICAgICAgICAgICAgICAgIDogZS50YXJnZXQudmFsdWVBc051bWJlcjtcbiAgICAgICAgc2V0UHJvcHMoKHByZXYpID0+ICh7IC4uLnByZXYsIFtrZXldOiB2YWx1ZSB9KSk7XG4gICAgfSwgW3NldFByb3BzXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEtub3RFcnJvci52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgQ3VycmVudEtub3QudmFsdWUgPSBuZXcgS25vdCh7IGJpZ2h0cywgcGFydHMsIHNvYnJlLCBwYXR0ZXJuIH0pO1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICAgICAgcGFyYW1zLnNldCgnYmlnaHRzJywgU3RyaW5nKGJpZ2h0cykpO1xuICAgICAgICAgICAgcGFyYW1zLnNldCgncGFydHMnLCBTdHJpbmcocGFydHMpKTtcbiAgICAgICAgICAgIHBhcmFtcy5zZXQoJ3NvYnJlJywgU3RyaW5nKHNvYnJlKSk7XG4gICAgICAgICAgICBwYXJhbXMuc2V0KCdwYXR0ZXJuJywgcGF0dGVybik7XG4gICAgICAgICAgICBsb2NhdGlvbi5oYXNoID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgS25vdEVycm9yLnZhbHVlID0gZXJyLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICB9LCBbYmlnaHRzLCBwYXJ0cywgc29icmUsIHBhdHRlcm5dKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIG51bGwsXG4gICAgICAgICAgICBcIkJpZ2h0c1wiLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHsgdHlwZTogJ251bWJlcicsIHZhbHVlOiBiaWdodHMsIG1pbjogMiwgb25DaGFuZ2U6IChlKSA9PiBjaGFuZ2UoJ2JpZ2h0cycsIGUpIH0pKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIG51bGwsXG4gICAgICAgICAgICBcIlBhcnRzXCIsXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgeyB0eXBlOiAnbnVtYmVyJywgdmFsdWU6IHBhcnRzLCBtaW46IDIsIG9uQ2hhbmdlOiAoZSkgPT4gY2hhbmdlKCdwYXJ0cycsIGUpIH0pKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIG51bGwsXG4gICAgICAgICAgICBcIlNvYnJlXCIsXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgeyB0eXBlOiAnY2hlY2tib3gnLCBjaGVja2VkOiBzb2JyZSwgb25DaGFuZ2U6IChlKSA9PiBjaGFuZ2UoJ3NvYnJlJywgZSkgfSkpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwgbnVsbCxcbiAgICAgICAgICAgIFwiUGF0dGVyblwiLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogcGF0dGVybiwgb25DaGFuZ2U6IChlKSA9PiBjaGFuZ2UoJ3BhdHRlcm4nLCBlKSB9KSkpKTtcbn07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmV4cG9ydCBjb25zdCBBbGdvcml0aG1EaWFncmFtID0gKHsga25vdDogeyB0b3BDeWNsaWNCaWdodE51bWJlciwgYm90Q3ljbGljQmlnaHROdW1iZXIsIHRvcENvZGluZ1BhdHRlcm4sIGJvdENvZGluZ1BhdHRlcm4sIGNvZGluZyB9IH0pID0+IChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsXG4gICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiQWxnb3JpdGhtIERpYWdyYW1cIiksXG4gICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInRhYmxlXCIsIG51bGwsXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiLCBudWxsLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3csIHsgaXRlbXM6IHRvcENvZGluZ1BhdHRlcm4gfSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdywgeyBpdGVtczogdG9wQ3ljbGljQmlnaHROdW1iZXIgfSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdywgeyBpdGVtczogY29kaW5nLnNwbGl0KFwiXCIpIH0pLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3csIHsgaXRlbXM6IGJvdEN5Y2xpY0JpZ2h0TnVtYmVyIH0pLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3csIHsgaXRlbXM6IGJvdENvZGluZ1BhdHRlcm4gfSkpKSkpO1xuY29uc3QgQ2VsbCA9IHN0eWxlZC50ZC53aXRoQ29uZmlnKHsgZGlzcGxheU5hbWU6IFwiQ2VsbFwiLCBjb21wb25lbnRJZDogXCJzYy0xYm1iZjhoXCIgfSkgYFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG5gO1xuY29uc3QgUm93ID0gKHsgaXRlbXMgfSkgPT4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0clwiLCBudWxsLCBpdGVtcy5tYXAoKGl0ZW0sIGNvbCkgPT4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2VsbCwgeyBrZXk6IGAke2NvbH0tJHtpdGVtfWAgfSwgaXRlbSkpKSkpO1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5leHBvcnQgY29uc3QgUnVuTGlzdCA9ICh7IGtub3QgfSkgPT4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCxcbiAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJIYWxmIEN5Y2xlc1wiKSxcbiAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEhhbGZDeWNsZUxpc3QsIG51bGwsIGtub3Quc3RlcHMoKS5tYXAoKHJvdykgPT4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoSGFsZkN5Y2xlUm93LCB7IGtleTogcm93IH0sIHJvdykpKSkpKTtcbmNvbnN0IEhhbGZDeWNsZUxpc3QgPSBzdHlsZWQub2wud2l0aENvbmZpZyh7IGRpc3BsYXlOYW1lOiBcIkhhbGZDeWNsZUxpc3RcIiwgY29tcG9uZW50SWQ6IFwic2MtMWNmbmhmZVwiIH0pIGBgO1xuY29uc3QgSGFsZkN5Y2xlUm93ID0gc3R5bGVkLmxpLndpdGhDb25maWcoeyBkaXNwbGF5TmFtZTogXCJIYWxmQ3ljbGVSb3dcIiwgY29tcG9uZW50SWQ6IFwic2MtMWF3Yjljb1wiIH0pIGBgO1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBDdXJyZW50S25vdCB9IGZyb20gJy4uL2RhdGEvQ3VycmVudEtub3QnO1xuY29uc3QgdGhldGEgPSBNYXRoLlBJIC8gNjtcbmNvbnN0IHRhblRoZXRhID0gTWF0aC50YW4odGhldGEpO1xuZXhwb3J0IGNvbnN0IEtub3RHcmlkID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbnZhcyA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCBrbm90ID0gQ3VycmVudEtub3QudmFsdWU7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjYW52YXMuY3VycmVudCB8fCAha25vdClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2xlYXJEcmF3aW5nKGNhbnZhcy5jdXJyZW50LCBrbm90KTtcbiAgICAgICAgZHJhd1BpbnNBbmRHcmlkKGNhbnZhcy5jdXJyZW50LCBrbm90KTtcbiAgICAgICAgZHJhd092ZXJVbmRlcnMoY2FudmFzLmN1cnJlbnQsIGtub3QpO1xuICAgIH0sIFtrbm90XSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIktub3QgRGlhZ3JhbVwiKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSZXNpemVDb250YWluZXIsIG51bGwsXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENhbnZhcywgeyByZWY6IGNhbnZhcyB9KSkpKTtcbn07XG5jb25zdCBSZXNpemVDb250YWluZXIgPSBzdHlsZWQuZGl2LndpdGhDb25maWcoeyBkaXNwbGF5TmFtZTogXCJSZXNpemVDb250YWluZXJcIiwgY29tcG9uZW50SWQ6IFwic2MtamVhd2dcIiB9KSBgXG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHJlc2l6ZTogYXV0bztcbmA7XG5jb25zdCBDYW52YXMgPSBzdHlsZWQuY2FudmFzLndpdGhDb25maWcoeyBkaXNwbGF5TmFtZTogXCJDYW52YXNcIiwgY29tcG9uZW50SWQ6IFwic2MtMXliMW9naFwiIH0pIGBcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xuYDtcbmNvbnN0IGNsZWFyRHJhd2luZyA9IChjYW52YXMsIGtub3QpID0+IHtcbiAgICBjYW52YXMuaGVpZ2h0ID0gKGtub3QuYmlnaHRzIC0gMC41KSAqIDMyO1xuICAgIGNhbnZhcy5wYXJlbnRFbGVtZW50LnN0eWxlLmhlaWdodCA9IGAke2NhbnZhcy5oZWlnaHR9cHhgO1xuICAgIGNhbnZhcy53aWR0aCA9ICgyICogKDE2IC8gdGFuVGhldGEpKSAqIChrbm90LnBhcnRzIC8gMik7XG4gICAgY2FudmFzLnBhcmVudEVsZW1lbnQuc3R5bGUud2lkdGggPSBgJHtjYW52YXMud2lkdGh9cHhgO1xuICAgIGNvbnN0IHdpZHRoID0gY2FudmFzLndpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbn07XG5jb25zdCBkcmF3UGluc0FuZEdyaWQgPSAoY2FudmFzLCBrbm90KSA9PiB7XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY29uc3Qgd2lkdGggPSBjYW52YXMud2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcbiAgICBjb25zdCBkZWx0YVkgPSBoZWlnaHQgLyAoa25vdC5iaWdodHMgLSAwLjUpO1xuICAgIGNvbnN0IGRlbHRhWCA9ICgyICogKChkZWx0YVkgLyAyKSAvIHRhblRoZXRhKSk7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICcjNTczYzY2JztcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAnYmxhY2snO1xuICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICBjdHguZm9udCA9ICcxMHB4IHNhbnMtc2VyaWYnO1xuICAgIGNvbnN0IGFjcm9zcyA9IGtub3QucGFydHMgLyAyO1xuICAgIGNvbnN0IGlzT2RkUGFydHMgPSBrbm90LnBhcnRzICUgMjtcbiAgICBmb3IgKGxldCBwaW4gPSAwOyBwaW4gPD0ga25vdC5iaWdodHM7IHBpbisrKSB7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAxO1xuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IE1hdGguY2VpbChhY3Jvc3MpOyB4KyspIHtcbiAgICAgICAgICAgIGlmICh4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KGAke3BpbiArIDF9YCwgeCArIDE1LCBoZWlnaHQgLSAoKHBpbiAqIGRlbHRhWSkgLSAzKSk7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KGAke3BpbiArIDF9YCwgKGFjcm9zcyAqIGRlbHRhWCkgLSAxNSwgaGVpZ2h0IC0gKCgocGluICsgKGlzT2RkUGFydHMgKiAwLjUpKSAqIGRlbHRhWSkgLSAzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjdHgubW92ZVRvKCh4ICogZGVsdGFYKSArICgoa25vdC5wYXJ0cyAvIDIpICogZGVsdGFYKSwgaGVpZ2h0IC0gKChwaW4gLSBhY3Jvc3MpICogZGVsdGFZKSk7XG4gICAgICAgICAgICBjdHgubGluZVRvKCh4ICogZGVsdGFYKSwgaGVpZ2h0IC0gKHBpbiAqIGRlbHRhWSkpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbygoeCAqIGRlbHRhWCkgKyAoKGtub3QucGFydHMgLyAyKSAqIGRlbHRhWCksIGhlaWdodCAtICgocGluICsgYWNyb3NzKSAqIGRlbHRhWSkpO1xuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4Lm1vdmVUbygoeCAqIGRlbHRhWCkgLSAoKGtub3QucGFydHMgLyAyKSAqIGRlbHRhWCksIGhlaWdodCAtICgocGluIC0gYWNyb3NzKSAqIGRlbHRhWSkpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbygoeCAqIGRlbHRhWCksIGhlaWdodCAtIChwaW4gKiBkZWx0YVkpKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oKHggKiBkZWx0YVgpIC0gKChrbm90LnBhcnRzIC8gMikgKiBkZWx0YVgpLCBoZWlnaHQgLSAoKHBpbiArIGFjcm9zcykgKiBkZWx0YVkpKTtcbiAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjdHguY2xlYXJSZWN0KCgoYWNyb3NzKSAqIGRlbHRhWCksIDAsIHdpZHRoIC0gKChhY3Jvc3MpICogZGVsdGFYKSwgaGVpZ2h0KTtcbn07XG5jb25zdCBkcmF3T3ZlclVuZGVycyA9IChjYW52YXMsIGtub3QpID0+IHtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjb25zdCBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xuICAgIGNvbnN0IGRlbHRhWSA9IGhlaWdodCAvIChrbm90LmJpZ2h0cyAtIDAuNSk7XG4gICAgY29uc3QgZGVsdGFYID0gKDIgKiAoKGRlbHRhWSAvIDIpIC8gdGFuVGhldGEpKTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAnYmxhY2snO1xuICAgIGNvbnN0IGFjcm9zcyA9IGtub3QucGFydHMgLyAyO1xuICAgIGNvbnN0IGlzT2RkUGFydHMgPSBrbm90LnBhcnRzICUgMjtcbiAgICBjb25zdCB3ID0gKDAuMiAqIGRlbHRhWCk7XG4gICAgY29uc3QgaCA9ICgwLjIgKiBkZWx0YVkpO1xuICAgIGNvbnN0IGxlZnRDb29yZHMgPSAoeCwgcGluKSA9PiAoW1xuICAgICAgICAoKHggKyAwLjQwKSAqIGRlbHRhWCksIGhlaWdodCAtICgocGluICsgMC42KSAqIGRlbHRhWSlcbiAgICBdKTtcbiAgICBjb25zdCByaWdodENvb3JkcyA9ICh4LCBwaW4pID0+IChbXG4gICAgICAgICgoeCArIDAuOTApICogZGVsdGFYKSwgaGVpZ2h0IC0gKHBpbiAqIGRlbHRhWSkgLSAzXG4gICAgXSk7XG4gICAgY29uc3QgT3ZlciA9IChbeCwgeV0pID0+IHtcbiAgICAgICAgY3R4LmNsZWFyUmVjdCh4LCB5LCB3LCBoKTtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgubW92ZVRvKHgsIHkpO1xuICAgICAgICBjdHgubGluZVRvKHggKyB3LCB5ICsgaCk7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIH07XG4gICAgY29uc3QgVW5kZXIgPSAoW3gsIHldKSA9PiB7XG4gICAgICAgIGN0eC5jbGVhclJlY3QoeCwgeSwgdywgaCk7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4Lm1vdmVUbyh4ICsgdywgeSk7XG4gICAgICAgIGN0eC5saW5lVG8oeCwgeSArIGgpO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICB9O1xuICAgIGZvciAobGV0IHBpbiA9IDA7IHBpbiA8IGtub3QuYmlnaHRzOyBwaW4rKykge1xuICAgICAgICBjdHgubGluZVdpZHRoID0gNTtcbiAgICAgICAgY29uc3QgY29kaW5nID0ga25vdC5jb2Rpbmcuc3BsaXQoJycpO1xuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IE1hdGguZmxvb3IoYWNyb3NzKTsgeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBsZWZ0ID0gY29kaW5nLnNoaWZ0KCk7XG4gICAgICAgICAgICAobGVmdCA9PT0gJ1xcXFwnID8gT3ZlciA6IFVuZGVyKShsZWZ0Q29vcmRzKHgsIHBpbikpO1xuICAgICAgICAgICAgaWYgKGlzT2RkUGFydHMgfHxcbiAgICAgICAgICAgICAgICAoeCArIDEgPCBhY3Jvc3MpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmlnaHQgPSBjb2Rpbmcuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAocmlnaHQgPT09ICdcXFxcJyA/IE92ZXIgOiBVbmRlcikocmlnaHRDb29yZHMoeCwgcGluKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQ3VycmVudEtub3QsIEtub3RFcnJvciB9IGZyb20gJy4uL2RhdGEvQ3VycmVudEtub3QnO1xuaW1wb3J0IHsgQWxnb3JpdGhtRGlhZ3JhbSB9IGZyb20gJy4vQWxnb3JpdGhtRGlhZ3JhbSc7XG5pbXBvcnQgeyBSdW5MaXN0IH0gZnJvbSAnLi9SdW5MaXN0JztcbmltcG9ydCB7IEtub3RHcmlkIH0gZnJvbSAnLi9Lbm90R3JpZCc7XG5leHBvcnQgY29uc3QgS25vdERpc3BsYXkgPSAoKSA9PiB7XG4gICAgY29uc3Qga25vdCA9IEN1cnJlbnRLbm90LnZhbHVlO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgS25vdEVycm9yLnZhbHVlICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoNFwiLCBudWxsLCBLbm90RXJyb3IudmFsdWUpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDJcIiwgbnVsbCxcbiAgICAgICAgICAgIGtub3QuYmlnaHRzLFxuICAgICAgICAgICAgXCJCIHggXCIsXG4gICAgICAgICAgICBrbm90LnBhcnRzLFxuICAgICAgICAgICAgXCJQIFwiLFxuICAgICAgICAgICAga25vdC5zb2JyZSA/ICdzb2JyZScgOiAnY2FzYScsXG4gICAgICAgICAgICBcIiBrbm90XCIpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEFsZ29yaXRobURpYWdyYW0sIHsga25vdDoga25vdCB9KSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChLbm90R3JpZCwgbnVsbCksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUnVuTGlzdCwgeyBrbm90OiBrbm90IH0pKSk7XG59O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY3JlYXRlUm9vdCB9IGZyb20gJ3JlYWN0LWRvbS9jbGllbnQnO1xuaW1wb3J0IHsgQXBwIH0gZnJvbSAnLi9BcHAnO1xuY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VjdGlvbicpO1xuY29uc3Qgcm9vdCA9IGNyZWF0ZVJvb3QoY29udGFpbmVyKTtcbmNvbnN0IGVsZW1lbnQgPSAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5TdHJpY3RNb2RlLCBudWxsLFxuICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQXBwLCBudWxsKSkpO1xuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xucm9vdC5yZW5kZXIoZWxlbWVudCk7XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBLbm90Q29udHJvbHMgfSBmcm9tICcuL2NvbXBvbmVudHMvS25vdENvbnRyb2xzJztcbmltcG9ydCB7IEtub3REaXNwbGF5IH0gZnJvbSAnLi9jb21wb25lbnRzL0tub3REaXNwbGF5JztcbmV4cG9ydCBjb25zdCBBcHAgPSAoKSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLFxuICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoS25vdENvbnRyb2xzLCBudWxsKSxcbiAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaHJcIiwgbnVsbCksXG4gICAgUmVhY3QuY3JlYXRlRWxlbWVudChLbm90RGlzcGxheSwgbnVsbCkpKTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gbm8gYmFzZVVSSVxuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDQ4MzogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5PLmogPSAoY2h1bmtJZCkgPT4gKGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9PT0gMCk7XG5cbi8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xudmFyIHdlYnBhY2tKc29ucENhbGxiYWNrID0gKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uLCBkYXRhKSA9PiB7XG5cdHZhciBbY2h1bmtJZHMsIG1vcmVNb2R1bGVzLCBydW50aW1lXSA9IGRhdGE7XG5cdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuXHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcblx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMDtcblx0aWYoY2h1bmtJZHMuc29tZSgoaWQpID0+IChpbnN0YWxsZWRDaHVua3NbaWRdICE9PSAwKSkpIHtcblx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcblx0XHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG5cdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmKHJ1bnRpbWUpIHZhciByZXN1bHQgPSBydW50aW1lKF9fd2VicGFja19yZXF1aXJlX18pO1xuXHR9XG5cdGlmKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKSBwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbihkYXRhKTtcblx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcblx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0oKTtcblx0XHR9XG5cdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcblx0fVxuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHJlc3VsdCk7XG59XG5cbnZhciBjaHVua0xvYWRpbmdHbG9iYWwgPSBzZWxmW1wid2VicGFja0NodW5ra25vdHNcIl0gPSBzZWxmW1wid2VicGFja0NodW5ra25vdHNcIl0gfHwgW107XG5jaHVua0xvYWRpbmdHbG9iYWwuZm9yRWFjaCh3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIDApKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCBjaHVua0xvYWRpbmdHbG9iYWwucHVzaC5iaW5kKGNodW5rTG9hZGluZ0dsb2JhbCkpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubmMgPSB1bmRlZmluZWQ7IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBkZXBlbmRzIG9uIG90aGVyIGxvYWRlZCBjaHVua3MgYW5kIGV4ZWN1dGlvbiBuZWVkIHRvIGJlIGRlbGF5ZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzIxNl0sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDY0MykpKVxuX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyhfX3dlYnBhY2tfZXhwb3J0c19fKTtcbiJdLCJuYW1lcyI6WyJkZWZlcnJlZCIsIkhhbGZDeWNsZSIsImNvbnN0cnVjdG9yIiwiZnJvbVBpbiIsInRvUGluIiwidGhpcyIsInJ1bnMiLCJhcHBlbmQiLCJzdGVwIiwicHVzaCIsInN0ZXBzIiwibGlzdCIsImkiLCJsZW5ndGgiLCJjb2RpbmdQYXR0ZXJuIiwiY291bnQiLCJzdHJzIiwiam9pbiIsInVuZGVmaW5lZCIsImdjZCIsIngiLCJ5IiwiSW52ZXJ0UGF0dGVybiIsIktub3QiLCJwYXJ0cyIsImJpZ2h0cyIsInNvYnJlIiwicGF0dGVybiIsInNvbHZlIiwiY2hlY2tDb25kaXRpb25zIiwiZmlsbENvZGluZyIsImNvZGluZyIsImluaXRWYXJzIiwid2hvbGVOdW1iZXIiLCJNYXRoIiwiZmxvb3IiLCJyZW1haW5kZXIiLCJjb3VudFZhbHVlIiwiY3ljbGljQmlnaHROdW1iZXIiLCJ0b3BDeWNsaWNCaWdodE51bWJlciIsImJvdEN5Y2xpY0JpZ2h0TnVtYmVyIiwidG9wQ29kaW5nUGF0dGVybiIsImJvdENvZGluZ1BhdHRlcm4iLCJoYWxmQ3ljbGVzIiwicGlucyIsImZpbGxDYm4iLCJjIiwiZ2V0UGFydEZyb21UeXBlIiwiaXNPdmVyIiwiZmlsbFVvIiwiZmlsbFBpbnMiLCJtIiwiciIsImZpbGxIYWxmQ3ljbGVzIiwiaGMiLCJudW0iLCJzaWRlIiwiYXRUb3AiLCJoYWxmQ3ljbGUiLCJDdXJyZW50S25vdCIsIndpbmRvdyIsIktub3RFcnJvciIsImRlZmF1bHRLbm90IiwicGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwibG9jYXRpb24iLCJoYXNoIiwic2xpY2UiLCJjYW5kaWRhdGVzIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwia2V5IiwidGVzdCIsIk51bWJlciIsIktub3RDb250cm9scyIsInNldFByb3BzIiwiY2hhbmdlIiwiZSIsInZhbHVlIiwidGFyZ2V0IiwiY2hlY2tlZCIsInZhbHVlQXNOdW1iZXIiLCJwcmV2Iiwic2V0IiwiU3RyaW5nIiwidG9TdHJpbmciLCJlcnIiLCJ0eXBlIiwibWluIiwib25DaGFuZ2UiLCJBbGdvcml0aG1EaWFncmFtIiwia25vdCIsIlJvdyIsIml0ZW1zIiwic3BsaXQiLCJDZWxsIiwidGQiLCJ3aXRoQ29uZmlnIiwiZGlzcGxheU5hbWUiLCJjb21wb25lbnRJZCIsIm1hcCIsIml0ZW0iLCJjb2wiLCJSdW5MaXN0IiwiSGFsZkN5Y2xlTGlzdCIsInJvdyIsIkhhbGZDeWNsZVJvdyIsIm9sIiwibGkiLCJ0aGV0YSIsIlBJIiwidGFuVGhldGEiLCJ0YW4iLCJLbm90R3JpZCIsImNhbnZhcyIsImN1cnJlbnQiLCJjbGVhckRyYXdpbmciLCJkcmF3UGluc0FuZEdyaWQiLCJkcmF3T3ZlclVuZGVycyIsIlJlc2l6ZUNvbnRhaW5lciIsIkNhbnZhcyIsInJlZiIsImRpdiIsImhlaWdodCIsInBhcmVudEVsZW1lbnQiLCJzdHlsZSIsIndpZHRoIiwiZ2V0Q29udGV4dCIsImNsZWFyUmVjdCIsImN0eCIsImRlbHRhWSIsImRlbHRhWCIsImZpbGxTdHlsZSIsInN0cm9rZVN0eWxlIiwidGV4dEFsaWduIiwiZm9udCIsImFjcm9zcyIsImlzT2RkUGFydHMiLCJwaW4iLCJsaW5lV2lkdGgiLCJjZWlsIiwiZmlsbFRleHQiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJjbG9zZVBhdGgiLCJ3IiwiaCIsImxlZnRDb29yZHMiLCJyaWdodENvb3JkcyIsIk92ZXIiLCJVbmRlciIsInNoaWZ0IiwiS25vdERpc3BsYXkiLCJjb250YWluZXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJyb290IiwiYm9keSIsImFwcGVuZENoaWxkIiwicmVuZGVyIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJPIiwicmVzdWx0IiwiY2h1bmtJZHMiLCJmbiIsInByaW9yaXR5Iiwibm90RnVsZmlsbGVkIiwiSW5maW5pdHkiLCJmdWxmaWxsZWQiLCJqIiwia2V5cyIsImV2ZXJ5Iiwic3BsaWNlIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImluc3RhbGxlZENodW5rcyIsImNodW5rSWQiLCJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsInBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uIiwiZGF0YSIsIm1vcmVNb2R1bGVzIiwicnVudGltZSIsInNvbWUiLCJpZCIsImNodW5rTG9hZGluZ0dsb2JhbCIsInNlbGYiLCJmb3JFYWNoIiwiYmluZCIsIm5jIiwiX193ZWJwYWNrX2V4cG9ydHNfXyJdLCJzb3VyY2VSb290IjoiIn0=