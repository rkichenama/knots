(()=>{"use strict";var t,e={797:(t,e,s)=>{var i=s(294),n=s(745);class r{constructor(t=1,e=1){this.runs=[],this.fromPin=0,this.toPin=0,this.runs=[],this.fromPin=t,this.toPin=e}append(t){this.runs.push(t)}steps(){let t=[];for(let e=0;e<this.runs.length;e++)0===t.length||t[t.length-1].codingPattern!=this.runs[e]?t.push({codingPattern:this.runs[e],count:1}):t[t.length-1].count++;let e=[];for(let s=0;s<t.length;s++)e.push(`${t[s].codingPattern}${t[s].count>1?t[s].count:""}`);return t.length?e.join(" "):void 0}}function l(t,e){return 0===e?t:l(e,t%e)}class o{constructor({parts:t=5,bights:e=6,sobre:s=!1,pattern:i="\\/"}){this.parts=t,this.bights=e,this.pattern=i||"\\/",this.sobre=!!s,this.solve()}checkConditions(){if(!this.parts||!this.bights)throw"the parts and bights both must be greater than 0";if(1!=l(this.parts,this.bights))throw"the parts and bights must have a greatest common divisor of 1"}fillCoding(){this.coding="";for(let t=0;t<this.parts-1;t++)this.coding+=this.pattern[t%this.pattern.length]}initVars(){this.wholeNumber=Math.floor(this.parts/this.bights),this.remainder=this.parts%this.bights,this.countValue=this.bights-this.remainder,this.cyclicBightNumber=[],this.topCyclicBightNumber=[],this.botCyclicBightNumber=[],this.topCodingPattern=[],this.botCodingPattern=[],this.halfCycles=[],this.pins=[]}fillCbn(){for(let t=0;t<this.bights;t++)this.cyclicBightNumber[t*this.countValue%this.bights]=t;for(let t=0;t<this.parts-1;t++)this.topCyclicBightNumber[t]=this.cyclicBightNumber[(t+1)%this.bights],this.botCyclicBightNumber[this.parts-1-t-1]=this.cyclicBightNumber[(t+1)%this.bights]}getPartFromType(t){return t?this.sobre?"U":"O":this.sobre?"O":"U"}fillUo(){for(let t=0;t<this.parts-1;t++){const e="\\"===this.coding[t];this.topCodingPattern.push(this.getPartFromType(!e)),this.botCodingPattern.push(this.getPartFromType(e))}}fillPins(){this.pins.push(1);let t=2*this.bights;if(this.parts%2)for(let e=1;e<t;e++){const s=e*this.parts%t;this.pins.push(Math.floor(s/2)+1)}else for(let e=1;e<t;e++){const s=e*this.parts%t;this.pins.push(Math.floor(0===s?(e*this.parts+1)%t/2:e%2?s/2:(s+1)/2)+1)}this.pins.push(1)}fillHalfCycles(){let t=new r(this.pins[0],this.pins[1]);this.halfCycles.push(t);for(let e=2;e<=2*this.bights;e++){t=new r(this.pins[e-1],this.pins[e]);const s=(e-2-e%2)/2;if(e%2)for(let e=0;e<this.topCodingPattern.length;e++)this.topCyclicBightNumber[e]<=s&&t.append(this.topCodingPattern[e]);else for(let e=this.botCodingPattern.length-1;e>=0;e--)this.botCyclicBightNumber[e]<=s&&t.append(this.botCodingPattern[e]);this.halfCycles.push(t)}}solve(){this.checkConditions(),this.fillCoding(),this.initVars(),this.fillCbn(),this.fillUo(),this.fillPins(),this.fillHalfCycles()}steps(){let t=[],e=!1;for(const s of this.halfCycles)t.push(`${e?"top":"bot"} pin ${s.fromPin} to ${e?"bot":"top"} pin ${s.toPin}: ${s.steps()??"free run"}`),e=!e;return t}}var a=s(726);const h=window.knot=(0,a.td)(new o({bights:6,parts:5})),c=(0,a.td)("");let p={bights:6,parts:5,sobre:!1,pattern:"\\/"};(()=>{const t=new URLSearchParams(window.location.hash.slice(1)),e=Object.fromEntries(t.entries());for(const t in p)e[t]&&(p[t]=/(bights|parts)/.test(t)?Number(e[t]):/sobre/.test(t)?"true"===e[t]:e[t])})();const u=()=>{const[{bights:t,parts:e,sobre:s,pattern:n},r]=i.useState(p),l=i.useCallback(((t,e)=>{const s=/pattern/.test(t)?e.target.value:/sobre/.test(t)?e.target.checked:e.target.valueAsNumber;r((e=>({...e,[t]:s})))}),[r]);return i.useEffect((()=>{try{c.value="",h.value=new o({bights:t,parts:e,sobre:s,pattern:n});const i=new URLSearchParams;i.set("bights",String(t)),i.set("parts",String(e)),i.set("sobre",String(s)),i.set("pattern",n),location.hash=i.toString()}catch(t){c.value=t.toString()}}),[t,e,s,n]),i.createElement("div",null,i.createElement("label",null,"Bights",i.createElement("input",{type:"number",value:t,min:2,onChange:t=>l("bights",t)})),i.createElement("label",null,"Parts",i.createElement("input",{type:"number",value:e,min:2,onChange:t=>l("parts",t)})),i.createElement("label",null,"Sobre",i.createElement("input",{type:"checkbox",checked:s,onChange:t=>l("sobre",t)})),i.createElement("label",null,"Pattern",i.createElement("input",{type:"text",value:n,onChange:t=>l("pattern",t)})))};var g=s(394);const m=({knot:{topCyclicBightNumber:t,botCyclicBightNumber:e,topCodingPattern:s,botCodingPattern:n,coding:r}})=>i.createElement("div",null,i.createElement("h3",null,"Algorithm Diagram"),i.createElement("table",null,i.createElement("tbody",null,i.createElement(f,{items:s}),i.createElement(f,{items:t}),i.createElement(f,{items:r.split("")}),i.createElement(f,{items:e}),i.createElement(f,{items:n})))),b=g.ZP.td.withConfig({displayName:"Cell",componentId:"sc-1bmbf8h"})`
  text-align: center;
`,f=({items:t})=>i.createElement("tr",null,t.map(((t,e)=>i.createElement(b,{key:`${e}-${t}`},t)))),d=({knot:t})=>i.createElement("div",null,i.createElement("h3",null,"Half Cycles"),i.createElement(v,null,t.steps().map((t=>i.createElement(C,{key:t},t))))),v=g.ZP.ol.withConfig({displayName:"HalfCycleList",componentId:"sc-1cfnhfe"})``,C=g.ZP.li.withConfig({displayName:"HalfCycleRow",componentId:"sc-1awb9co"})``,y=Math.PI/6,E=Math.tan(y),P=()=>{const t=i.useRef(null),e=h.value;return i.useEffect((()=>{t.current&&e&&(N(t.current,e),x(t.current,e),T(t.current,e))}),[e]),i.createElement("div",null,i.createElement("h3",null,"Knot Diagram"),i.createElement(w,null,i.createElement(k,{ref:t})))},w=g.ZP.div.withConfig({displayName:"ResizeContainer",componentId:"sc-jeawg"})`
  overflow: hidden;
  resize: auto;
`,k=g.ZP.canvas.withConfig({displayName:"Canvas",componentId:"sc-1yb1ogh"})`
  position: relative;
  height: 100%;
  width: 100%;
`,N=(t,e)=>{t.height=32*(e.bights-.5),t.parentElement.style.height=`${t.height}px`,t.width=16/E*2*(e.parts/2),t.parentElement.style.width=`${t.width}px`;const s=t.width,i=t.height;t.getContext("2d").clearRect(0,0,s,i)},x=(t,e)=>{const s=t.getContext("2d"),i=t.width,n=t.height,r=n/(e.bights-.5),l=r/2/E*2;s.fillStyle="#573c66",s.strokeStyle="black",s.textAlign="center",s.font="10px sans-serif";const o=e.parts/2,a=e.parts%2;for(let t=0;t<=e.bights;t++){s.lineWidth=1;for(let i=0;i<Math.ceil(o);i++)0===i&&(s.fillText(`${t+1}`,i+15,n-(t*r-3)),s.fillText(`${t+1}`,o*l-15,n-((t+.5*a)*r-3))),s.beginPath(),s.moveTo(i*l+e.parts/2*l,n-(t-o)*r),s.lineTo(i*l,n-t*r),s.lineTo(i*l+e.parts/2*l,n-(t+o)*r),s.stroke(),s.closePath(),s.beginPath(),s.moveTo(i*l-e.parts/2*l,n-(t-o)*r),s.lineTo(i*l,n-t*r),s.lineTo(i*l-e.parts/2*l,n-(t+o)*r),s.stroke(),s.closePath()}s.clearRect(o*l,0,i-o*l,n)},T=(t,e)=>{const s=t.getContext("2d"),i=t.height,n=i/(e.bights-.5),r=n/2/E*2;s.strokeStyle="black";const l=e.parts/2,o=e.parts%2,a=.2*r,h=.2*n,c=(t,e)=>[(t+.4)*r,i-(e+.6)*n],p=(t,e)=>[(t+.9)*r,i-e*n-3],u=([t,e])=>{s.clearRect(t,e,a,h),s.beginPath(),s.moveTo(t,e),s.lineTo(t+a,e+h),s.stroke(),s.closePath()},g=([t,e])=>{s.clearRect(t,e,a,h),s.beginPath(),s.moveTo(t+a,e),s.lineTo(t,e+h),s.stroke(),s.closePath()};for(let t=0;t<e.bights;t++){s.lineWidth=5;const i=e.coding.split("");for(let e=0;e<Math.floor(l);e++)("\\"===i.shift()?u:g)(c(e,t)),(o||e+1<l)&&("\\"===i.shift()?u:g)(p(e,t))}},B=()=>{const t=h.value;return i.createElement(i.Fragment,null,c.value&&i.createElement("h4",null,c.value),i.createElement("h2",null,t.bights,"B x ",t.parts,"P ",t.sobre?"sobre":"casa"," knot"),i.createElement(m,{knot:t}),i.createElement(P,null),i.createElement(d,{knot:t}))},O=document.createElement("section"),S=(0,n.s)(O),$=i.createElement(i.StrictMode,null,i.createElement((()=>i.createElement("div",null,i.createElement(u,null),i.createElement("hr",null),i.createElement(B,null))),null));document.body.appendChild(O),S.render($)}},s={};function i(t){var n=s[t];if(void 0!==n)return n.exports;var r=s[t]={exports:{}};return e[t](r,r.exports,i),r.exports}i.m=e,t=[],i.O=(e,s,n,r)=>{if(!s){var l=1/0;for(c=0;c<t.length;c++){for(var[s,n,r]=t[c],o=!0,a=0;a<s.length;a++)(!1&r||l>=r)&&Object.keys(i.O).every((t=>i.O[t](s[a])))?s.splice(a--,1):(o=!1,r<l&&(l=r));if(o){t.splice(c--,1);var h=n();void 0!==h&&(e=h)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[s,n,r]},i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={483:0};i.O.j=e=>0===t[e];var e=(e,s)=>{var n,r,[l,o,a]=s,h=0;if(l.some((e=>0!==t[e]))){for(n in o)i.o(o,n)&&(i.m[n]=o[n]);if(a)var c=a(i)}for(e&&e(s);h<l.length;h++)r=l[h],i.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return i.O(c)},s=self.webpackChunkknots=self.webpackChunkknots||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})(),i.nc=void 0;var n=i.O(void 0,[216],(()=>i(797)));n=i.O(n)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUEyQkMsR0FDckQzTCxFQUFJOEosRUFBUzdKLE9BQVFELElBQ3pCd0wsRUFBVTFCLEVBQVM5SixHQUNoQnNKLEVBQW9Cd0IsRUFBRVMsRUFBaUJDLElBQVlELEVBQWdCQyxJQUNyRUQsRUFBZ0JDLEdBQVMsS0FFMUJELEVBQWdCQyxHQUFXLEVBRTVCLE9BQU9sQyxFQUFvQk0sRUFBRUMsRUFBTyxFQUdqQ21DLEVBQXFCQyxLQUF3QixrQkFBSUEsS0FBd0IsbUJBQUssR0FDbEZELEVBQW1CRSxRQUFRVCxFQUFxQlUsS0FBSyxLQUFNLElBQzNESCxFQUFtQm5NLEtBQU80TCxFQUFxQlUsS0FBSyxLQUFNSCxFQUFtQm5NLEtBQUtzTSxLQUFLSCxHLEtDaER2RjFDLEVBQW9COEMsUUFBSzlMLEVDR3pCLElBQUkrTCxFQUFzQi9DLEVBQW9CTSxPQUFFdEosRUFBVyxDQUFDLE1BQU0sSUFBT2dKLEVBQW9CLE9BQzdGK0MsRUFBc0IvQyxFQUFvQk0sRUFBRXlDLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2NodW5rIGxvYWRlZCIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL2hhbGZjeWNsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL2djZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL2tub3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGEvQ3VycmVudEtub3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvS25vdENvbnRyb2xzLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9BbGdvcml0aG1EaWFncmFtLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9SdW5MaXN0LnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Lbm90R3JpZC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvS25vdERpc3BsYXkudHN4Iiwid2VicGFjazovLy8uL3NyYy9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL0FwcC50c3giLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovLy93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRlZmVycmVkID0gW107XG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8gPSAocmVzdWx0LCBjaHVua0lkcywgZm4sIHByaW9yaXR5KSA9PiB7XG5cdGlmKGNodW5rSWRzKSB7XG5cdFx0cHJpb3JpdHkgPSBwcmlvcml0eSB8fCAwO1xuXHRcdGZvcih2YXIgaSA9IGRlZmVycmVkLmxlbmd0aDsgaSA+IDAgJiYgZGVmZXJyZWRbaSAtIDFdWzJdID4gcHJpb3JpdHk7IGktLSkgZGVmZXJyZWRbaV0gPSBkZWZlcnJlZFtpIC0gMV07XG5cdFx0ZGVmZXJyZWRbaV0gPSBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV07XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHZhciBub3RGdWxmaWxsZWQgPSBJbmZpbml0eTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV0gPSBkZWZlcnJlZFtpXTtcblx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNodW5rSWRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRpZiAoKHByaW9yaXR5ICYgMSA9PT0gMCB8fCBub3RGdWxmaWxsZWQgPj0gcHJpb3JpdHkpICYmIE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uTykuZXZlcnkoKGtleSkgPT4gKF9fd2VicGFja19yZXF1aXJlX18uT1trZXldKGNodW5rSWRzW2pdKSkpKSB7XG5cdFx0XHRcdGNodW5rSWRzLnNwbGljZShqLS0sIDEpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZnVsZmlsbGVkID0gZmFsc2U7XG5cdFx0XHRcdGlmKHByaW9yaXR5IDwgbm90RnVsZmlsbGVkKSBub3RGdWxmaWxsZWQgPSBwcmlvcml0eTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYoZnVsZmlsbGVkKSB7XG5cdFx0XHRkZWZlcnJlZC5zcGxpY2UoaS0tLCAxKVxuXHRcdFx0dmFyIHIgPSBmbigpO1xuXHRcdFx0aWYgKHIgIT09IHVuZGVmaW5lZCkgcmVzdWx0ID0gcjtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn07IiwiZXhwb3J0IGNsYXNzIEhhbGZDeWNsZSB7XG4gICAgY29uc3RydWN0b3IoZnJvbVBpbiA9IDEsIHRvUGluID0gMSkge1xuICAgICAgICB0aGlzLnJ1bnMgPSBbXTtcbiAgICAgICAgdGhpcy5mcm9tUGluID0gMDtcbiAgICAgICAgdGhpcy50b1BpbiA9IDA7XG4gICAgICAgIHRoaXMucnVucyA9IFtdO1xuICAgICAgICB0aGlzLmZyb21QaW4gPSBmcm9tUGluO1xuICAgICAgICB0aGlzLnRvUGluID0gdG9QaW47XG4gICAgfVxuICAgIGFwcGVuZChzdGVwKSB7IHRoaXMucnVucy5wdXNoKHN0ZXApOyB9XG4gICAgc3RlcHMoKSB7XG4gICAgICAgIGxldCBsaXN0ID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ydW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDAgfHwgbGlzdFtsaXN0Lmxlbmd0aCAtIDFdLmNvZGluZ1BhdHRlcm4gIT0gdGhpcy5ydW5zW2ldKSB7XG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgY29kaW5nUGF0dGVybjogdGhpcy5ydW5zW2ldLFxuICAgICAgICAgICAgICAgICAgICBjb3VudDogMSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpc3RbbGlzdC5sZW5ndGggLSAxXS5jb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBzdHJzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc3Rycy5wdXNoKGAke2xpc3RbaV0uY29kaW5nUGF0dGVybn0ke2xpc3RbaV0uY291bnQgPiAxID8gbGlzdFtpXS5jb3VudCA6ICcnfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0Lmxlbmd0aCA/IHN0cnMuam9pbignICcpIDogdW5kZWZpbmVkO1xuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdjZCh4LCB5KSB7XG4gICAgaWYgKHkgPT09IDApXG4gICAgICAgIHJldHVybiB4O1xuICAgIHJldHVybiBnY2QoeSwgeCAlIHkpO1xufVxuIiwiaW1wb3J0IHsgSGFsZkN5Y2xlIH0gZnJvbSAnLi9oYWxmY3ljbGUnO1xuaW1wb3J0IGdjZCBmcm9tICcuL2djZCc7XG5leHBvcnQgY2xhc3MgS25vdCB7XG4gICAgY29uc3RydWN0b3IoeyBwYXJ0cyA9IDUsIGJpZ2h0cyA9IDYsIHNvYnJlID0gZmFsc2UsIHBhdHRlcm4gPSAnXFxcXC8nIH0pIHtcbiAgICAgICAgdGhpcy5wYXJ0cyA9IHBhcnRzO1xuICAgICAgICB0aGlzLmJpZ2h0cyA9IGJpZ2h0cztcbiAgICAgICAgdGhpcy5wYXR0ZXJuID0gcGF0dGVybiB8fCAnXFxcXC8nO1xuICAgICAgICB0aGlzLnNvYnJlID0gISFzb2JyZTtcbiAgICAgICAgdGhpcy5zb2x2ZSgpO1xuICAgIH1cbiAgICBjaGVja0NvbmRpdGlvbnMoKSB7XG4gICAgICAgIGlmICghdGhpcy5wYXJ0cyB8fCAhdGhpcy5iaWdodHMpIHtcbiAgICAgICAgICAgIHRocm93IFwidGhlIHBhcnRzIGFuZCBiaWdodHMgYm90aCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdjZCh0aGlzLnBhcnRzLCB0aGlzLmJpZ2h0cykgIT0gMSkge1xuICAgICAgICAgICAgdGhyb3cgXCJ0aGUgcGFydHMgYW5kIGJpZ2h0cyBtdXN0IGhhdmUgYSBncmVhdGVzdCBjb21tb24gZGl2aXNvciBvZiAxXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmlsbENvZGluZygpIHtcbiAgICAgICAgdGhpcy5jb2RpbmcgPSAnJztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhcnRzIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNvZGluZyArPSB0aGlzLnBhdHRlcm5baSAlIHRoaXMucGF0dGVybi5sZW5ndGhdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGluaXRWYXJzKCkge1xuICAgICAgICB0aGlzLndob2xlTnVtYmVyID0gTWF0aC5mbG9vcih0aGlzLnBhcnRzIC8gdGhpcy5iaWdodHMpO1xuICAgICAgICB0aGlzLnJlbWFpbmRlciA9IHRoaXMucGFydHMgJSB0aGlzLmJpZ2h0cztcbiAgICAgICAgdGhpcy5jb3VudFZhbHVlID0gdGhpcy5iaWdodHMgLSB0aGlzLnJlbWFpbmRlcjtcbiAgICAgICAgdGhpcy5jeWNsaWNCaWdodE51bWJlciA9IFtdO1xuICAgICAgICB0aGlzLnRvcEN5Y2xpY0JpZ2h0TnVtYmVyID0gW107XG4gICAgICAgIHRoaXMuYm90Q3ljbGljQmlnaHROdW1iZXIgPSBbXTtcbiAgICAgICAgdGhpcy50b3BDb2RpbmdQYXR0ZXJuID0gW107XG4gICAgICAgIHRoaXMuYm90Q29kaW5nUGF0dGVybiA9IFtdO1xuICAgICAgICB0aGlzLmhhbGZDeWNsZXMgPSBbXTtcbiAgICAgICAgdGhpcy5waW5zID0gW107XG4gICAgfVxuICAgIGZpbGxDYm4oKSB7XG4gICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgdGhpcy5iaWdodHM7IGMrKykge1xuICAgICAgICAgICAgdGhpcy5jeWNsaWNCaWdodE51bWJlclsoYyAqIHRoaXMuY291bnRWYWx1ZSkgJSB0aGlzLmJpZ2h0c10gPSBjO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgdGhpcy5wYXJ0cyAtIDE7IGMrKykge1xuICAgICAgICAgICAgdGhpcy50b3BDeWNsaWNCaWdodE51bWJlcltjXSA9IHRoaXMuY3ljbGljQmlnaHROdW1iZXJbKGMgKyAxKSAlIHRoaXMuYmlnaHRzXTtcbiAgICAgICAgICAgIHRoaXMuYm90Q3ljbGljQmlnaHROdW1iZXJbdGhpcy5wYXJ0cyAtIDEgLSBjIC0gMV0gPSB0aGlzLmN5Y2xpY0JpZ2h0TnVtYmVyWyhjICsgMSkgJSB0aGlzLmJpZ2h0c107XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0UGFydEZyb21UeXBlKGlzT3Zlcikge1xuICAgICAgICByZXR1cm4gaXNPdmVyXG4gICAgICAgICAgICA/IHRoaXMuc29icmUgPyAnVScgOiAnTydcbiAgICAgICAgICAgIDogdGhpcy5zb2JyZSA/ICdPJyA6ICdVJztcbiAgICB9XG4gICAgZmlsbFVvKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGFydHMgLSAxOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGlzT3ZlciA9ICh0aGlzLmNvZGluZ1tpXSA9PT0gJ1xcXFwnKTtcbiAgICAgICAgICAgIHRoaXMudG9wQ29kaW5nUGF0dGVybi5wdXNoKHRoaXMuZ2V0UGFydEZyb21UeXBlKCFpc092ZXIpKTtcbiAgICAgICAgICAgIHRoaXMuYm90Q29kaW5nUGF0dGVybi5wdXNoKHRoaXMuZ2V0UGFydEZyb21UeXBlKGlzT3ZlcikpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZpbGxQaW5zKCkge1xuICAgICAgICB0aGlzLnBpbnMucHVzaCgxKTtcbiAgICAgICAgbGV0IG0gPSAyICogdGhpcy5iaWdodHM7XG4gICAgICAgIGlmICh0aGlzLnBhcnRzICUgMikge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBtOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gKGkgKiB0aGlzLnBhcnRzKSAlIG07XG4gICAgICAgICAgICAgICAgdGhpcy5waW5zLnB1c2goTWF0aC5mbG9vcihyIC8gMikgKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IChpICogdGhpcy5wYXJ0cykgJSBtO1xuICAgICAgICAgICAgICAgIHRoaXMucGlucy5wdXNoKE1hdGguZmxvb3IociA9PT0gMFxuICAgICAgICAgICAgICAgICAgICA/ICgoaSAqIHRoaXMucGFydHMgKyAxKSAlIG0pIC8gMlxuICAgICAgICAgICAgICAgICAgICA6IGkgJSAyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHIgLyAyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IChyICsgMSkgLyAyKSArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucGlucy5wdXNoKDEpO1xuICAgIH1cbiAgICA7XG4gICAgZmlsbEhhbGZDeWNsZXMoKSB7XG4gICAgICAgIGxldCBoYyA9IG5ldyBIYWxmQ3ljbGUodGhpcy5waW5zWzBdLCB0aGlzLnBpbnNbMV0pO1xuICAgICAgICB0aGlzLmhhbGZDeWNsZXMucHVzaChoYyk7XG4gICAgICAgIGZvciAobGV0IG51bSA9IDI7IG51bSA8PSAyICogdGhpcy5iaWdodHM7IG51bSsrKSB7XG4gICAgICAgICAgICBoYyA9IG5ldyBIYWxmQ3ljbGUodGhpcy5waW5zW251bSAtIDFdLCB0aGlzLnBpbnNbbnVtXSk7XG4gICAgICAgICAgICBjb25zdCBjeWNsaWNCaWdodE51bWJlciA9IChudW0gLSAyIC0gKG51bSAlIDIpKSAvIDI7XG4gICAgICAgICAgICBpZiAobnVtICUgMikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50b3BDb2RpbmdQYXR0ZXJuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRvcEN5Y2xpY0JpZ2h0TnVtYmVyW2ldIDw9IGN5Y2xpY0JpZ2h0TnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYy5hcHBlbmQodGhpcy50b3BDb2RpbmdQYXR0ZXJuW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmJvdENvZGluZ1BhdHRlcm4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYm90Q3ljbGljQmlnaHROdW1iZXJbaV0gPD0gY3ljbGljQmlnaHROdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhjLmFwcGVuZCh0aGlzLmJvdENvZGluZ1BhdHRlcm5baV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5oYWxmQ3ljbGVzLnB1c2goaGMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNvbHZlKCkge1xuICAgICAgICB0aGlzLmNoZWNrQ29uZGl0aW9ucygpO1xuICAgICAgICB0aGlzLmZpbGxDb2RpbmcoKTtcbiAgICAgICAgdGhpcy5pbml0VmFycygpO1xuICAgICAgICB0aGlzLmZpbGxDYm4oKTtcbiAgICAgICAgdGhpcy5maWxsVW8oKTtcbiAgICAgICAgdGhpcy5maWxsUGlucygpO1xuICAgICAgICB0aGlzLmZpbGxIYWxmQ3ljbGVzKCk7XG4gICAgfVxuICAgIHN0ZXBzKCkge1xuICAgICAgICBsZXQgbGlzdCA9IFtdO1xuICAgICAgICBsZXQgYXRUb3AgPSBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCBoYWxmQ3ljbGUgb2YgdGhpcy5oYWxmQ3ljbGVzKSB7XG4gICAgICAgICAgICBsaXN0LnB1c2goYCR7YXRUb3AgPyAndG9wJyA6ICdib3QnfSBwaW4gJHtoYWxmQ3ljbGUuZnJvbVBpbn0gdG8gJHthdFRvcCA/ICdib3QnIDogJ3RvcCd9IHBpbiAke2hhbGZDeWNsZS50b1Bpbn06ICR7aGFsZkN5Y2xlLnN0ZXBzKCkgPz8gJ2ZyZWUgcnVuJ31gKTtcbiAgICAgICAgICAgIGF0VG9wID0gIWF0VG9wO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IHNpZ25hbCB9IGZyb20gJ0BwcmVhY3Qvc2lnbmFscy1yZWFjdCc7XG5pbXBvcnQgeyBLbm90IH0gZnJvbSAnLi4vbGliJztcbmV4cG9ydCBjb25zdCBDdXJyZW50S25vdCA9ICh3aW5kb3dbJ2tub3QnXSA9IHNpZ25hbChuZXcgS25vdCh7XG4gICAgYmlnaHRzOiA2LCBwYXJ0czogNVxufSkpKTtcbmV4cG9ydCBjb25zdCBLbm90RXJyb3IgPSBzaWduYWwoJycpO1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgS25vdCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBDdXJyZW50S25vdCwgS25vdEVycm9yIH0gZnJvbSAnLi4vZGF0YS9DdXJyZW50S25vdCc7XG5sZXQgZGVmYXVsdEtub3QgPSB7XG4gICAgYmlnaHRzOiA2LFxuICAgIHBhcnRzOiA1LFxuICAgIHNvYnJlOiBmYWxzZSxcbiAgICBwYXR0ZXJuOiAnXFxcXC8nLFxufTtcbigoKSA9PiB7XG4gICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKSk7XG4gICAgY29uc3QgY2FuZGlkYXRlcyA9IE9iamVjdC5mcm9tRW50cmllcyhwYXJhbXMuZW50cmllcygpKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBkZWZhdWx0S25vdCkge1xuICAgICAgICBpZiAoY2FuZGlkYXRlc1trZXldKSB7XG4gICAgICAgICAgICBkZWZhdWx0S25vdFtrZXldID0gLyhiaWdodHN8cGFydHMpLy50ZXN0KGtleSlcbiAgICAgICAgICAgICAgICA/IE51bWJlcihjYW5kaWRhdGVzW2tleV0pXG4gICAgICAgICAgICAgICAgOiAvc29icmUvLnRlc3Qoa2V5KVxuICAgICAgICAgICAgICAgICAgICA/IGNhbmRpZGF0ZXNba2V5XSA9PT0gJ3RydWUnXG4gICAgICAgICAgICAgICAgICAgIDogY2FuZGlkYXRlc1trZXldO1xuICAgICAgICB9XG4gICAgfVxufSkoKTtcbmV4cG9ydCBjb25zdCBLbm90Q29udHJvbHMgPSAoKSA9PiB7XG4gICAgY29uc3QgW3sgYmlnaHRzLCBwYXJ0cywgc29icmUsIHBhdHRlcm4sIH0sIHNldFByb3BzXSA9IFJlYWN0LnVzZVN0YXRlKGRlZmF1bHRLbm90KTtcbiAgICBjb25zdCBjaGFuZ2UgPSBSZWFjdC51c2VDYWxsYmFjaygoa2V5LCBlKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gL3BhdHRlcm4vLnRlc3Qoa2V5KVxuICAgICAgICAgICAgPyBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgOiAvc29icmUvLnRlc3Qoa2V5KVxuICAgICAgICAgICAgICAgID8gZS50YXJnZXQuY2hlY2tlZFxuICAgICAgICAgICAgICAgIDogZS50YXJnZXQudmFsdWVBc051bWJlcjtcbiAgICAgICAgc2V0UHJvcHMoKHByZXYpID0+ICh7IC4uLnByZXYsIFtrZXldOiB2YWx1ZSB9KSk7XG4gICAgfSwgW3NldFByb3BzXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEtub3RFcnJvci52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgQ3VycmVudEtub3QudmFsdWUgPSBuZXcgS25vdCh7IGJpZ2h0cywgcGFydHMsIHNvYnJlLCBwYXR0ZXJuIH0pO1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICAgICAgcGFyYW1zLnNldCgnYmlnaHRzJywgU3RyaW5nKGJpZ2h0cykpO1xuICAgICAgICAgICAgcGFyYW1zLnNldCgncGFydHMnLCBTdHJpbmcocGFydHMpKTtcbiAgICAgICAgICAgIHBhcmFtcy5zZXQoJ3NvYnJlJywgU3RyaW5nKHNvYnJlKSk7XG4gICAgICAgICAgICBwYXJhbXMuc2V0KCdwYXR0ZXJuJywgcGF0dGVybik7XG4gICAgICAgICAgICBsb2NhdGlvbi5oYXNoID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgS25vdEVycm9yLnZhbHVlID0gZXJyLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICB9LCBbYmlnaHRzLCBwYXJ0cywgc29icmUsIHBhdHRlcm5dKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIG51bGwsXG4gICAgICAgICAgICBcIkJpZ2h0c1wiLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHsgdHlwZTogJ251bWJlcicsIHZhbHVlOiBiaWdodHMsIG1pbjogMiwgb25DaGFuZ2U6IChlKSA9PiBjaGFuZ2UoJ2JpZ2h0cycsIGUpIH0pKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIG51bGwsXG4gICAgICAgICAgICBcIlBhcnRzXCIsXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgeyB0eXBlOiAnbnVtYmVyJywgdmFsdWU6IHBhcnRzLCBtaW46IDIsIG9uQ2hhbmdlOiAoZSkgPT4gY2hhbmdlKCdwYXJ0cycsIGUpIH0pKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIG51bGwsXG4gICAgICAgICAgICBcIlNvYnJlXCIsXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgeyB0eXBlOiAnY2hlY2tib3gnLCBjaGVja2VkOiBzb2JyZSwgb25DaGFuZ2U6IChlKSA9PiBjaGFuZ2UoJ3NvYnJlJywgZSkgfSkpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwgbnVsbCxcbiAgICAgICAgICAgIFwiUGF0dGVyblwiLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogcGF0dGVybiwgb25DaGFuZ2U6IChlKSA9PiBjaGFuZ2UoJ3BhdHRlcm4nLCBlKSB9KSkpKTtcbn07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmV4cG9ydCBjb25zdCBBbGdvcml0aG1EaWFncmFtID0gKHsga25vdDogeyB0b3BDeWNsaWNCaWdodE51bWJlciwgYm90Q3ljbGljQmlnaHROdW1iZXIsIHRvcENvZGluZ1BhdHRlcm4sIGJvdENvZGluZ1BhdHRlcm4sIGNvZGluZyB9IH0pID0+IChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsXG4gICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiQWxnb3JpdGhtIERpYWdyYW1cIiksXG4gICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInRhYmxlXCIsIG51bGwsXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiLCBudWxsLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3csIHsgaXRlbXM6IHRvcENvZGluZ1BhdHRlcm4gfSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdywgeyBpdGVtczogdG9wQ3ljbGljQmlnaHROdW1iZXIgfSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdywgeyBpdGVtczogY29kaW5nLnNwbGl0KFwiXCIpIH0pLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3csIHsgaXRlbXM6IGJvdEN5Y2xpY0JpZ2h0TnVtYmVyIH0pLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3csIHsgaXRlbXM6IGJvdENvZGluZ1BhdHRlcm4gfSkpKSkpO1xuY29uc3QgQ2VsbCA9IHN0eWxlZC50ZC53aXRoQ29uZmlnKHsgZGlzcGxheU5hbWU6IFwiQ2VsbFwiLCBjb21wb25lbnRJZDogXCJzYy0xYm1iZjhoXCIgfSkgYFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG5gO1xuY29uc3QgUm93ID0gKHsgaXRlbXMgfSkgPT4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0clwiLCBudWxsLCBpdGVtcy5tYXAoKGl0ZW0sIGNvbCkgPT4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2VsbCwgeyBrZXk6IGAke2NvbH0tJHtpdGVtfWAgfSwgaXRlbSkpKSkpO1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5leHBvcnQgY29uc3QgUnVuTGlzdCA9ICh7IGtub3QgfSkgPT4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCxcbiAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJIYWxmIEN5Y2xlc1wiKSxcbiAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEhhbGZDeWNsZUxpc3QsIG51bGwsIGtub3Quc3RlcHMoKS5tYXAoKHJvdykgPT4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoSGFsZkN5Y2xlUm93LCB7IGtleTogcm93IH0sIHJvdykpKSkpKTtcbmNvbnN0IEhhbGZDeWNsZUxpc3QgPSBzdHlsZWQub2wud2l0aENvbmZpZyh7IGRpc3BsYXlOYW1lOiBcIkhhbGZDeWNsZUxpc3RcIiwgY29tcG9uZW50SWQ6IFwic2MtMWNmbmhmZVwiIH0pIGBgO1xuY29uc3QgSGFsZkN5Y2xlUm93ID0gc3R5bGVkLmxpLndpdGhDb25maWcoeyBkaXNwbGF5TmFtZTogXCJIYWxmQ3ljbGVSb3dcIiwgY29tcG9uZW50SWQ6IFwic2MtMWF3Yjljb1wiIH0pIGBgO1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBDdXJyZW50S25vdCB9IGZyb20gJy4uL2RhdGEvQ3VycmVudEtub3QnO1xuY29uc3QgdGhldGEgPSBNYXRoLlBJIC8gNjtcbmNvbnN0IHRhblRoZXRhID0gTWF0aC50YW4odGhldGEpO1xuZXhwb3J0IGNvbnN0IEtub3RHcmlkID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbnZhcyA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCBrbm90ID0gQ3VycmVudEtub3QudmFsdWU7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjYW52YXMuY3VycmVudCB8fCAha25vdClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2xlYXJEcmF3aW5nKGNhbnZhcy5jdXJyZW50LCBrbm90KTtcbiAgICAgICAgZHJhd1BpbnNBbmRHcmlkKGNhbnZhcy5jdXJyZW50LCBrbm90KTtcbiAgICAgICAgZHJhd092ZXJVbmRlcnMoY2FudmFzLmN1cnJlbnQsIGtub3QpO1xuICAgIH0sIFtrbm90XSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIktub3QgRGlhZ3JhbVwiKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSZXNpemVDb250YWluZXIsIG51bGwsXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENhbnZhcywgeyByZWY6IGNhbnZhcyB9KSkpKTtcbn07XG5jb25zdCBSZXNpemVDb250YWluZXIgPSBzdHlsZWQuZGl2LndpdGhDb25maWcoeyBkaXNwbGF5TmFtZTogXCJSZXNpemVDb250YWluZXJcIiwgY29tcG9uZW50SWQ6IFwic2MtamVhd2dcIiB9KSBgXG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHJlc2l6ZTogYXV0bztcbmA7XG5jb25zdCBDYW52YXMgPSBzdHlsZWQuY2FudmFzLndpdGhDb25maWcoeyBkaXNwbGF5TmFtZTogXCJDYW52YXNcIiwgY29tcG9uZW50SWQ6IFwic2MtMXliMW9naFwiIH0pIGBcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xuYDtcbmNvbnN0IGNsZWFyRHJhd2luZyA9IChjYW52YXMsIGtub3QpID0+IHtcbiAgICBjYW52YXMuaGVpZ2h0ID0gKGtub3QuYmlnaHRzIC0gMC41KSAqIDMyO1xuICAgIGNhbnZhcy5wYXJlbnRFbGVtZW50LnN0eWxlLmhlaWdodCA9IGAke2NhbnZhcy5oZWlnaHR9cHhgO1xuICAgIGNhbnZhcy53aWR0aCA9ICgyICogKDE2IC8gdGFuVGhldGEpKSAqIChrbm90LnBhcnRzIC8gMik7XG4gICAgY2FudmFzLnBhcmVudEVsZW1lbnQuc3R5bGUud2lkdGggPSBgJHtjYW52YXMud2lkdGh9cHhgO1xuICAgIGNvbnN0IHdpZHRoID0gY2FudmFzLndpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbn07XG5jb25zdCBkcmF3UGluc0FuZEdyaWQgPSAoY2FudmFzLCBrbm90KSA9PiB7XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY29uc3Qgd2lkdGggPSBjYW52YXMud2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcbiAgICBjb25zdCBkZWx0YVkgPSBoZWlnaHQgLyAoa25vdC5iaWdodHMgLSAwLjUpO1xuICAgIGNvbnN0IGRlbHRhWCA9ICgyICogKChkZWx0YVkgLyAyKSAvIHRhblRoZXRhKSk7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICcjNTczYzY2JztcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAnYmxhY2snO1xuICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICBjdHguZm9udCA9ICcxMHB4IHNhbnMtc2VyaWYnO1xuICAgIGNvbnN0IGFjcm9zcyA9IGtub3QucGFydHMgLyAyO1xuICAgIGNvbnN0IGlzT2RkUGFydHMgPSBrbm90LnBhcnRzICUgMjtcbiAgICBmb3IgKGxldCBwaW4gPSAwOyBwaW4gPD0ga25vdC5iaWdodHM7IHBpbisrKSB7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAxO1xuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IE1hdGguY2VpbChhY3Jvc3MpOyB4KyspIHtcbiAgICAgICAgICAgIGlmICh4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KGAke3BpbiArIDF9YCwgeCArIDE1LCBoZWlnaHQgLSAoKHBpbiAqIGRlbHRhWSkgLSAzKSk7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KGAke3BpbiArIDF9YCwgKGFjcm9zcyAqIGRlbHRhWCkgLSAxNSwgaGVpZ2h0IC0gKCgocGluICsgKGlzT2RkUGFydHMgKiAwLjUpKSAqIGRlbHRhWSkgLSAzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjdHgubW92ZVRvKCh4ICogZGVsdGFYKSArICgoa25vdC5wYXJ0cyAvIDIpICogZGVsdGFYKSwgaGVpZ2h0IC0gKChwaW4gLSBhY3Jvc3MpICogZGVsdGFZKSk7XG4gICAgICAgICAgICBjdHgubGluZVRvKCh4ICogZGVsdGFYKSwgaGVpZ2h0IC0gKHBpbiAqIGRlbHRhWSkpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbygoeCAqIGRlbHRhWCkgKyAoKGtub3QucGFydHMgLyAyKSAqIGRlbHRhWCksIGhlaWdodCAtICgocGluICsgYWNyb3NzKSAqIGRlbHRhWSkpO1xuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4Lm1vdmVUbygoeCAqIGRlbHRhWCkgLSAoKGtub3QucGFydHMgLyAyKSAqIGRlbHRhWCksIGhlaWdodCAtICgocGluIC0gYWNyb3NzKSAqIGRlbHRhWSkpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbygoeCAqIGRlbHRhWCksIGhlaWdodCAtIChwaW4gKiBkZWx0YVkpKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oKHggKiBkZWx0YVgpIC0gKChrbm90LnBhcnRzIC8gMikgKiBkZWx0YVgpLCBoZWlnaHQgLSAoKHBpbiArIGFjcm9zcykgKiBkZWx0YVkpKTtcbiAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjdHguY2xlYXJSZWN0KCgoYWNyb3NzKSAqIGRlbHRhWCksIDAsIHdpZHRoIC0gKChhY3Jvc3MpICogZGVsdGFYKSwgaGVpZ2h0KTtcbn07XG5jb25zdCBkcmF3T3ZlclVuZGVycyA9IChjYW52YXMsIGtub3QpID0+IHtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjb25zdCBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xuICAgIGNvbnN0IGRlbHRhWSA9IGhlaWdodCAvIChrbm90LmJpZ2h0cyAtIDAuNSk7XG4gICAgY29uc3QgZGVsdGFYID0gKDIgKiAoKGRlbHRhWSAvIDIpIC8gdGFuVGhldGEpKTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAnYmxhY2snO1xuICAgIGNvbnN0IGFjcm9zcyA9IGtub3QucGFydHMgLyAyO1xuICAgIGNvbnN0IGlzT2RkUGFydHMgPSBrbm90LnBhcnRzICUgMjtcbiAgICBjb25zdCB3ID0gKDAuMiAqIGRlbHRhWCk7XG4gICAgY29uc3QgaCA9ICgwLjIgKiBkZWx0YVkpO1xuICAgIGNvbnN0IGxlZnRDb29yZHMgPSAoeCwgcGluKSA9PiAoW1xuICAgICAgICAoKHggKyAwLjQwKSAqIGRlbHRhWCksIGhlaWdodCAtICgocGluICsgMC42KSAqIGRlbHRhWSlcbiAgICBdKTtcbiAgICBjb25zdCByaWdodENvb3JkcyA9ICh4LCBwaW4pID0+IChbXG4gICAgICAgICgoeCArIDAuOTApICogZGVsdGFYKSwgaGVpZ2h0IC0gKHBpbiAqIGRlbHRhWSkgLSAzXG4gICAgXSk7XG4gICAgY29uc3QgT3ZlciA9IChbeCwgeV0pID0+IHtcbiAgICAgICAgY3R4LmNsZWFyUmVjdCh4LCB5LCB3LCBoKTtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgubW92ZVRvKHgsIHkpO1xuICAgICAgICBjdHgubGluZVRvKHggKyB3LCB5ICsgaCk7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIH07XG4gICAgY29uc3QgVW5kZXIgPSAoW3gsIHldKSA9PiB7XG4gICAgICAgIGN0eC5jbGVhclJlY3QoeCwgeSwgdywgaCk7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4Lm1vdmVUbyh4ICsgdywgeSk7XG4gICAgICAgIGN0eC5saW5lVG8oeCwgeSArIGgpO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICB9O1xuICAgIGZvciAobGV0IHBpbiA9IDA7IHBpbiA8IGtub3QuYmlnaHRzOyBwaW4rKykge1xuICAgICAgICBjdHgubGluZVdpZHRoID0gNTtcbiAgICAgICAgY29uc3QgY29kaW5nID0ga25vdC5jb2Rpbmcuc3BsaXQoJycpO1xuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IE1hdGguZmxvb3IoYWNyb3NzKTsgeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBsZWZ0ID0gY29kaW5nLnNoaWZ0KCk7XG4gICAgICAgICAgICAobGVmdCA9PT0gJ1xcXFwnID8gT3ZlciA6IFVuZGVyKShsZWZ0Q29vcmRzKHgsIHBpbikpO1xuICAgICAgICAgICAgaWYgKGlzT2RkUGFydHMgfHxcbiAgICAgICAgICAgICAgICAoeCArIDEgPCBhY3Jvc3MpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmlnaHQgPSBjb2Rpbmcuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAocmlnaHQgPT09ICdcXFxcJyA/IE92ZXIgOiBVbmRlcikocmlnaHRDb29yZHMoeCwgcGluKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQ3VycmVudEtub3QsIEtub3RFcnJvciB9IGZyb20gJy4uL2RhdGEvQ3VycmVudEtub3QnO1xuaW1wb3J0IHsgQWxnb3JpdGhtRGlhZ3JhbSB9IGZyb20gJy4vQWxnb3JpdGhtRGlhZ3JhbSc7XG5pbXBvcnQgeyBSdW5MaXN0IH0gZnJvbSAnLi9SdW5MaXN0JztcbmltcG9ydCB7IEtub3RHcmlkIH0gZnJvbSAnLi9Lbm90R3JpZCc7XG5leHBvcnQgY29uc3QgS25vdERpc3BsYXkgPSAoKSA9PiB7XG4gICAgY29uc3Qga25vdCA9IEN1cnJlbnRLbm90LnZhbHVlO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgS25vdEVycm9yLnZhbHVlICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoNFwiLCBudWxsLCBLbm90RXJyb3IudmFsdWUpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDJcIiwgbnVsbCxcbiAgICAgICAgICAgIGtub3QuYmlnaHRzLFxuICAgICAgICAgICAgXCJCIHggXCIsXG4gICAgICAgICAgICBrbm90LnBhcnRzLFxuICAgICAgICAgICAgXCJQIFwiLFxuICAgICAgICAgICAga25vdC5zb2JyZSA/ICdzb2JyZScgOiAnY2FzYScsXG4gICAgICAgICAgICBcIiBrbm90XCIpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEFsZ29yaXRobURpYWdyYW0sIHsga25vdDoga25vdCB9KSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChLbm90R3JpZCwgbnVsbCksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUnVuTGlzdCwgeyBrbm90OiBrbm90IH0pKSk7XG59O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY3JlYXRlUm9vdCB9IGZyb20gJ3JlYWN0LWRvbS9jbGllbnQnO1xuaW1wb3J0IHsgQXBwIH0gZnJvbSAnLi9BcHAnO1xuY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VjdGlvbicpO1xuY29uc3Qgcm9vdCA9IGNyZWF0ZVJvb3QoY29udGFpbmVyKTtcbmNvbnN0IGVsZW1lbnQgPSAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5TdHJpY3RNb2RlLCBudWxsLFxuICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQXBwLCBudWxsKSkpO1xuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xucm9vdC5yZW5kZXIoZWxlbWVudCk7XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBLbm90Q29udHJvbHMgfSBmcm9tICcuL2NvbXBvbmVudHMvS25vdENvbnRyb2xzJztcbmltcG9ydCB7IEtub3REaXNwbGF5IH0gZnJvbSAnLi9jb21wb25lbnRzL0tub3REaXNwbGF5JztcbmV4cG9ydCBjb25zdCBBcHAgPSAoKSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLFxuICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoS25vdENvbnRyb2xzLCBudWxsKSxcbiAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaHJcIiwgbnVsbCksXG4gICAgUmVhY3QuY3JlYXRlRWxlbWVudChLbm90RGlzcGxheSwgbnVsbCkpKTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gbm8gYmFzZVVSSVxuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDQ4MzogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5PLmogPSAoY2h1bmtJZCkgPT4gKGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9PT0gMCk7XG5cbi8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xudmFyIHdlYnBhY2tKc29ucENhbGxiYWNrID0gKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uLCBkYXRhKSA9PiB7XG5cdHZhciBbY2h1bmtJZHMsIG1vcmVNb2R1bGVzLCBydW50aW1lXSA9IGRhdGE7XG5cdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuXHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcblx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMDtcblx0aWYoY2h1bmtJZHMuc29tZSgoaWQpID0+IChpbnN0YWxsZWRDaHVua3NbaWRdICE9PSAwKSkpIHtcblx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcblx0XHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG5cdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmKHJ1bnRpbWUpIHZhciByZXN1bHQgPSBydW50aW1lKF9fd2VicGFja19yZXF1aXJlX18pO1xuXHR9XG5cdGlmKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKSBwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbihkYXRhKTtcblx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcblx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0oKTtcblx0XHR9XG5cdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcblx0fVxuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHJlc3VsdCk7XG59XG5cbnZhciBjaHVua0xvYWRpbmdHbG9iYWwgPSBzZWxmW1wid2VicGFja0NodW5ra25vdHNcIl0gPSBzZWxmW1wid2VicGFja0NodW5ra25vdHNcIl0gfHwgW107XG5jaHVua0xvYWRpbmdHbG9iYWwuZm9yRWFjaCh3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIDApKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCBjaHVua0xvYWRpbmdHbG9iYWwucHVzaC5iaW5kKGNodW5rTG9hZGluZ0dsb2JhbCkpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubmMgPSB1bmRlZmluZWQ7IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBkZXBlbmRzIG9uIG90aGVyIGxvYWRlZCBjaHVua3MgYW5kIGV4ZWN1dGlvbiBuZWVkIHRvIGJlIGRlbGF5ZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzIxNl0sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDc5NykpKVxuX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyhfX3dlYnBhY2tfZXhwb3J0c19fKTtcbiJdLCJuYW1lcyI6WyJkZWZlcnJlZCIsIkhhbGZDeWNsZSIsImNvbnN0cnVjdG9yIiwiZnJvbVBpbiIsInRvUGluIiwidGhpcyIsInJ1bnMiLCJhcHBlbmQiLCJzdGVwIiwicHVzaCIsInN0ZXBzIiwibGlzdCIsImkiLCJsZW5ndGgiLCJjb2RpbmdQYXR0ZXJuIiwiY291bnQiLCJzdHJzIiwiam9pbiIsInVuZGVmaW5lZCIsImdjZCIsIngiLCJ5IiwiS25vdCIsInBhcnRzIiwiYmlnaHRzIiwic29icmUiLCJwYXR0ZXJuIiwic29sdmUiLCJjaGVja0NvbmRpdGlvbnMiLCJmaWxsQ29kaW5nIiwiY29kaW5nIiwiaW5pdFZhcnMiLCJ3aG9sZU51bWJlciIsIk1hdGgiLCJmbG9vciIsInJlbWFpbmRlciIsImNvdW50VmFsdWUiLCJjeWNsaWNCaWdodE51bWJlciIsInRvcEN5Y2xpY0JpZ2h0TnVtYmVyIiwiYm90Q3ljbGljQmlnaHROdW1iZXIiLCJ0b3BDb2RpbmdQYXR0ZXJuIiwiYm90Q29kaW5nUGF0dGVybiIsImhhbGZDeWNsZXMiLCJwaW5zIiwiZmlsbENibiIsImMiLCJnZXRQYXJ0RnJvbVR5cGUiLCJpc092ZXIiLCJmaWxsVW8iLCJmaWxsUGlucyIsIm0iLCJyIiwiZmlsbEhhbGZDeWNsZXMiLCJoYyIsIm51bSIsImF0VG9wIiwiaGFsZkN5Y2xlIiwiQ3VycmVudEtub3QiLCJ3aW5kb3ciLCJLbm90RXJyb3IiLCJkZWZhdWx0S25vdCIsInBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsImxvY2F0aW9uIiwiaGFzaCIsInNsaWNlIiwiY2FuZGlkYXRlcyIsIk9iamVjdCIsImZyb21FbnRyaWVzIiwiZW50cmllcyIsImtleSIsInRlc3QiLCJOdW1iZXIiLCJLbm90Q29udHJvbHMiLCJzZXRQcm9wcyIsImNoYW5nZSIsImUiLCJ2YWx1ZSIsInRhcmdldCIsImNoZWNrZWQiLCJ2YWx1ZUFzTnVtYmVyIiwicHJldiIsInNldCIsIlN0cmluZyIsInRvU3RyaW5nIiwiZXJyIiwidHlwZSIsIm1pbiIsIm9uQ2hhbmdlIiwiQWxnb3JpdGhtRGlhZ3JhbSIsImtub3QiLCJSb3ciLCJpdGVtcyIsInNwbGl0IiwiQ2VsbCIsInRkIiwid2l0aENvbmZpZyIsImRpc3BsYXlOYW1lIiwiY29tcG9uZW50SWQiLCJtYXAiLCJpdGVtIiwiY29sIiwiUnVuTGlzdCIsIkhhbGZDeWNsZUxpc3QiLCJyb3ciLCJIYWxmQ3ljbGVSb3ciLCJvbCIsImxpIiwidGhldGEiLCJQSSIsInRhblRoZXRhIiwidGFuIiwiS25vdEdyaWQiLCJjYW52YXMiLCJjdXJyZW50IiwiY2xlYXJEcmF3aW5nIiwiZHJhd1BpbnNBbmRHcmlkIiwiZHJhd092ZXJVbmRlcnMiLCJSZXNpemVDb250YWluZXIiLCJDYW52YXMiLCJyZWYiLCJkaXYiLCJoZWlnaHQiLCJwYXJlbnRFbGVtZW50Iiwic3R5bGUiLCJ3aWR0aCIsImdldENvbnRleHQiLCJjbGVhclJlY3QiLCJjdHgiLCJkZWx0YVkiLCJkZWx0YVgiLCJmaWxsU3R5bGUiLCJzdHJva2VTdHlsZSIsInRleHRBbGlnbiIsImZvbnQiLCJhY3Jvc3MiLCJpc09kZFBhcnRzIiwicGluIiwibGluZVdpZHRoIiwiY2VpbCIsImZpbGxUZXh0IiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwiY2xvc2VQYXRoIiwidyIsImgiLCJsZWZ0Q29vcmRzIiwicmlnaHRDb29yZHMiLCJPdmVyIiwiVW5kZXIiLCJzaGlmdCIsIktub3REaXNwbGF5IiwiY29udGFpbmVyIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwicm9vdCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInJlbmRlciIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiTyIsInJlc3VsdCIsImNodW5rSWRzIiwiZm4iLCJwcmlvcml0eSIsIm5vdEZ1bGZpbGxlZCIsIkluZmluaXR5IiwiZnVsZmlsbGVkIiwiaiIsImtleXMiLCJldmVyeSIsInNwbGljZSIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJkZWZpbml0aW9uIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbnN0YWxsZWRDaHVua3MiLCJjaHVua0lkIiwid2VicGFja0pzb25wQ2FsbGJhY2siLCJwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiIsImRhdGEiLCJtb3JlTW9kdWxlcyIsInJ1bnRpbWUiLCJzb21lIiwiaWQiLCJjaHVua0xvYWRpbmdHbG9iYWwiLCJzZWxmIiwiZm9yRWFjaCIsImJpbmQiLCJuYyIsIl9fd2VicGFja19leHBvcnRzX18iXSwic291cmNlUm9vdCI6IiJ9